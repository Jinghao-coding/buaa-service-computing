# 实验4：服务QoS预测

🔔

**实验内容：**

1. 服务QoS预测算法代码理解

2. 参考WS-DREAM文档（[GitHub - icsme2020/WS-DREAM](https://github.com/icsme2020/WS-DREAM)），查看/home/WS-DREAM目录下至少5种服务QoS预测算法代码，分析其原理。

3. 服务QoS预测算法执行

4. 执行至少5种服务QoS预测算法并分析结果。

5. 撰写实验报告

> 王靖皓 BY2221105  
> 实验代码及文档：[实验4-github](https://github.com/Jinghao-coding/buaa-service-computing/tree/main/homework4)

## 程序运行环境搭建

WS-DREAM 项目依赖的运行环境为：

- Python 2.7 ([[https://www.python.org](https://www.python.org)](https://www.python.org/))

- Cython 0.20.1 ([[http://cython.org](http://cython.org)](http://cython.org/))

- numpy 1.8.1 ([[http://www.scipy.org](http://www.scipy.org)](http://www.scipy.org/))

- scipy 0.13.3 ([[http://www.scipy.org](http://www.scipy.org)](http://www.scipy.org/))

- AMF (https://github.com/wsdream/AMF)

- PPCF (https://github.com/wsdream/PPCF)
1. 该项目使用 Python 2.7 版本，为了避免操作系统现在的 Python 版本对其干扰，使用 Anaconda 创建 python 版本为 2.7 的虚拟环境：

![](https://www.kdocs.cn/api/v3/office/copy/RCtqeENIb0VIbXhnU2hUTGlyWi9FWEFDSENScTBVaWFVUlZCRnpCbFY2RStPSlVlUEs3MzlhN1l4aHJqdXp3ZGpiUXZSTkhnNlFNMXVzOGxCOGdOaXdVMjFUSlpieUNubXRiTmN5TXQ1QkYwbnRpbS9McS9Sc2FqaDlldVAzdkN2NDd4cndTNjdFNENXZjVZSTlNd3pBYUtHM3FPSkZmRVlFajVpYjVnVlUzNjd3UDZqTFIrb3lyVHhjWi9hZXNDUyt0ZVp3VDh4c0xTMlhNRXBCUWRzMVFpRW1nNnZSL0dzUGVKSkgrUW9uaVBGRlJSSXJoLy9xVWNxRU85NHEvTmR6aExVSGgyVzVzPQ==/attach/object/SJ5Y6AYACY)

1. 环境创建好后，先安装Python的基础依赖

该项目依赖的 Python 包写在项目根目录下的`requirements.txt`文件中，

使用命令 `pip install -r requirements.txt`完成安装

分别在`src/`目录下

![](https://www.kdocs.cn/api/v3/office/copy/RCtqeENIb0VIbXhnU2hUTGlyWi9FWEFDSENScTBVaWFVUlZCRnpCbFY2RStPSlVlUEs3MzlhN1l4aHJqdXp3ZGpiUXZSTkhnNlFNMXVzOGxCOGdOaXdVMjFUSlpieUNubXRiTmN5TXQ1QkYwbnRpbS9McS9Sc2FqaDlldVAzdkN2NDd4cndTNjdFNENXZjVZSTlNd3pBYUtHM3FPSkZmRVlFajVpYjVnVlUzNjd3UDZqTFIrb3lyVHhjWi9hZXNDUyt0ZVp3VDh4c0xTMlhNRXBCUWRzMVFpRW1nNnZSL0dzUGVKSkgrUW9uaVBGRlJSSXJoLy9xVWNxRU85NHEvTmR6aExVSGgyVzVzPQ==/attach/object/JVNJEAYAZM)

的两个依赖分别构建。

1. 安装 package:

使用命令 `python setup.py install --user` 编译成功

![](https://www.kdocs.cn/api/v3/office/copy/RCtqeENIb0VIbXhnU2hUTGlyWi9FWEFDSENScTBVaWFVUlZCRnpCbFY2RStPSlVlUEs3MzlhN1l4aHJqdXp3ZGpiUXZSTkhnNlFNMXVzOGxCOGdOaXdVMjFUSlpieUNubXRiTmN5TXQ1QkYwbnRpbS9McS9Sc2FqaDlldVAzdkN2NDd4cndTNjdFNENXZjVZSTlNd3pBYUtHM3FPSkZmRVlFajVpYjVnVlUzNjd3UDZqTFIrb3lyVHhjWi9hZXNDUyt0ZVp3VDh4c0xTMlhNRXBCUWRzMVFpRW1nNnZSL0dzUGVKSkgrUW9uaVBGRlJSSXJoLy9xVWNxRU85NHEvTmR6aExVSGgyVzVzPQ==/attach/object/CZNJEAYAC4)

至此，运行环境搭建完成

## QoS 测试

在此运行5种服务QoS预测算法代码

### NTF 方法(非负矩阵分解)：

💡

**Non-negative Matrix Factorization**

[算法原文](https://dl.acm.org/doi/10.1145/2566486.2568001)：[Temporal QoS-Aware Web Service Recommendation via
Non-negative Tensor Factorization](https://dl.acm.org/doi/pdf/10.1145/2566486.2568001)

NTF方法为Model-based 方法

**运行结果**

![](https://www.kdocs.cn/api/v3/office/copy/RCtqeENIb0VIbXhnU2hUTGlyWi9FWEFDSENScTBVaWFVUlZCRnpCbFY2RStPSlVlUEs3MzlhN1l4aHJqdXp3ZGpiUXZSTkhnNlFNMXVzOGxCOGdOaXdVMjFUSlpieUNubXRiTmN5TXQ1QkYwbnRpbS9McS9Sc2FqaDlldVAzdkN2NDd4cndTNjdFNENXZjVZSTlNd3pBYUtHM3FPSkZmRVlFajVpYjVnVlUzNjd3UDZqTFIrb3lyVHhjWi9hZXNDUyt0ZVp3VDh4c0xTMlhNRXBCUWRzMVFpRW1nNnZSL0dzUGVKSkgrUW9uaVBGRlJSSXJoLy9xVWNxRU85NHEvTmR6aExVSGgyVzVzPQ==/attach/object/BOXJIAYBEU)

![](https://www.kdocs.cn/api/v3/office/copy/RCtqeENIb0VIbXhnU2hUTGlyWi9FWEFDSENScTBVaWFVUlZCRnpCbFY2RStPSlVlUEs3MzlhN1l4aHJqdXp3ZGpiUXZSTkhnNlFNMXVzOGxCOGdOaXdVMjFUSlpieUNubXRiTmN5TXQ1QkYwbnRpbS9McS9Sc2FqaDlldVAzdkN2NDd4cndTNjdFNENXZjVZSTlNd3pBYUtHM3FPSkZmRVlFajVpYjVnVlUzNjd3UDZqTFIrb3lyVHhjWi9hZXNDUyt0ZVp3VDh4c0xTMlhNRXBCUWRzMVFpRW1nNnZSL0dzUGVKSkgrUW9uaVBGRlJSSXJoLy9xVWNxRU85NHEvTmR6aExVSGgyVzVzPQ==/attach/object/2SYJIAYADM)

**方法原理**

该文章将两个二维用户服务矩阵扩展为一个以三维张量表示的更复杂的用户服务时间三元关系，并提出了一种基于矩阵分解的广义张量因子分解（TF）。通过考虑不同时间QoS值的差异，使用 用户-服务-时间 关系替换用户-服务矩阵，来进行 QoS 预测。在真实世界中，QoS 值永远为非负数，因此，文章提出了一种非负张量因子分解（NTF）方法，以在考虑服务调用时间的情况下预测Web服务QoS值，并提出了一种基于时间QoS的Web服务推荐框架。

通过考虑第三种动态上下文信息，提出了一种时间 QoS 感知 Web 服务推荐框架，以预测在各种时间上下文下丢失的 QoS 值。此外，我们将这个问题形式化为广义张量分解模型，并提出了一种能够处理用户服务时间模型的三元关系的非负张量分解（NTF）算法。基于我们在 Planet-Lab 上收集的真实 Web 服务 QoS 数据集进行了大量实验，该数据集由 32 个时间段内 5,817 个 Web 服务上的 343 个用户的服务调用响应时间和吞吐量值组成。

下图展示了如何将二维的矩阵，增加时间维度，构建 用户-服务-时间 矩阵：

![](https://www.kdocs.cn/api/v3/office/copy/RCtqeENIb0VIbXhnU2hUTGlyWi9FWEFDSENScTBVaWFVUlZCRnpCbFY2RStPSlVlUEs3MzlhN1l4aHJqdXp3ZGpiUXZSTkhnNlFNMXVzOGxCOGdOaXdVMjFUSlpieUNubXRiTmN5TXQ1QkYwbnRpbS9McS9Sc2FqaDlldVAzdkN2NDd4cndTNjdFNENXZjVZSTlNd3pBYUtHM3FPSkZmRVlFajVpYjVnVlUzNjd3UDZqTFIrb3lyVHhjWi9hZXNDUyt0ZVp3VDh4c0xTMlhNRXBCUWRzMVFpRW1nNnZSL0dzUGVKSkgrUW9uaVBGRlJSSXJoLy9xVWNxRU85NHEvTmR6aExVSGgyVzVzPQ==/attach/object/A6YJIAYAN4)

该三维矩阵的构造方法如下：

![](https://www.kdocs.cn/api/v3/office/copy/RCtqeENIb0VIbXhnU2hUTGlyWi9FWEFDSENScTBVaWFVUlZCRnpCbFY2RStPSlVlUEs3MzlhN1l4aHJqdXp3ZGpiUXZSTkhnNlFNMXVzOGxCOGdOaXdVMjFUSlpieUNubXRiTmN5TXQ1QkYwbnRpbS9McS9Sc2FqaDlldVAzdkN2NDd4cndTNjdFNENXZjVZSTlNd3pBYUtHM3FPSkZmRVlFajVpYjVnVlUzNjd3UDZqTFIrb3lyVHhjWi9hZXNDUyt0ZVp3VDh4c0xTMlhNRXBCUWRzMVFpRW1nNnZSL0dzUGVKSkgrUW9uaVBGRlJSSXJoLy9xVWNxRU85NHEvTmR6aExVSGgyVzVzPQ==/attach/object/FWYJIAYA7E)

NTF 方法流程如下：

![](https://www.kdocs.cn/api/v3/office/copy/RCtqeENIb0VIbXhnU2hUTGlyWi9FWEFDSENScTBVaWFVUlZCRnpCbFY2RStPSlVlUEs3MzlhN1l4aHJqdXp3ZGpiUXZSTkhnNlFNMXVzOGxCOGdOaXdVMjFUSlpieUNubXRiTmN5TXQ1QkYwbnRpbS9McS9Sc2FqaDlldVAzdkN2NDd4cndTNjdFNENXZjVZSTlNd3pBYUtHM3FPSkZmRVlFajVpYjVnVlUzNjd3UDZqTFIrb3lyVHhjWi9hZXNDUyt0ZVp3VDh4c0xTMlhNRXBCUWRzMVFpRW1nNnZSL0dzUGVKSkgrUW9uaVBGRlJSSXJoLy9xVWNxRU85NHEvTmR6aExVSGgyVzVzPQ==/attach/object/I2YJIAYASY)

其中：

![](https://www.kdocs.cn/api/v3/office/copy/RCtqeENIb0VIbXhnU2hUTGlyWi9FWEFDSENScTBVaWFVUlZCRnpCbFY2RStPSlVlUEs3MzlhN1l4aHJqdXp3ZGpiUXZSTkhnNlFNMXVzOGxCOGdOaXdVMjFUSlpieUNubXRiTmN5TXQ1QkYwbnRpbS9McS9Sc2FqaDlldVAzdkN2NDd4cndTNjdFNENXZjVZSTlNd3pBYUtHM3FPSkZmRVlFajVpYjVnVlUzNjd3UDZqTFIrb3lyVHhjWi9hZXNDUyt0ZVp3VDh4c0xTMlhNRXBCUWRzMVFpRW1nNnZSL0dzUGVKSkgrUW9uaVBGRlJSSXJoLy9xVWNxRU85NHEvTmR6aExVSGgyVzVzPQ==/attach/object/PWYJIAYAP4)

![](https://www.kdocs.cn/api/v3/office/copy/RCtqeENIb0VIbXhnU2hUTGlyWi9FWEFDSENScTBVaWFVUlZCRnpCbFY2RStPSlVlUEs3MzlhN1l4aHJqdXp3ZGpiUXZSTkhnNlFNMXVzOGxCOGdOaXdVMjFUSlpieUNubXRiTmN5TXQ1QkYwbnRpbS9McS9Sc2FqaDlldVAzdkN2NDd4cndTNjdFNENXZjVZSTlNd3pBYUtHM3FPSkZmRVlFajVpYjVnVlUzNjd3UDZqTFIrb3lyVHhjWi9hZXNDUyt0ZVp3VDh4c0xTMlhNRXBCUWRzMVFpRW1nNnZSL0dzUGVKSkgrUW9uaVBGRlJSSXJoLy9xVWNxRU85NHEvTmR6aExVSGgyVzVzPQ==/attach/object/R2YJIAYBWI)

### PMF 方法（概率矩阵分解）：

👋

PMF 为 Model-based 方法。

文章：[Personalized Reliability Prediction of Web Services](https://dl.acm.org/doi/pdf/10.1145/2430545.2430548)

该方法会根据可用的Web服务故障数据建立一个因子模型，并使用该因子模型进行进一步的可靠性预测。

**运行结果：**

![](https://www.kdocs.cn/api/v3/office/copy/RCtqeENIb0VIbXhnU2hUTGlyWi9FWEFDSENScTBVaWFVUlZCRnpCbFY2RStPSlVlUEs3MzlhN1l4aHJqdXp3ZGpiUXZSTkhnNlFNMXVzOGxCOGdOaXdVMjFUSlpieUNubXRiTmN5TXQ1QkYwbnRpbS9McS9Sc2FqaDlldVAzdkN2NDd4cndTNjdFNENXZjVZSTlNd3pBYUtHM3FPSkZmRVlFajVpYjVnVlUzNjd3UDZqTFIrb3lyVHhjWi9hZXNDUyt0ZVp3VDh4c0xTMlhNRXBCUWRzMVFpRW1nNnZSL0dzUGVKSkgrUW9uaVBGRlJSSXJoLy9xVWNxRU85NHEvTmR6aExVSGgyVzVzPQ==/attach/object/P5SZEAYAME)

**方法原理**

1. 对 user-item 矩阵 P ，进行分解，分解为两个矩阵 W 和 H

![](data:image/svg+xml;base64,PHN2ZyB3cHNUeXBlPSJsYXRleCIgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB3aWR0aD0iNjMiIGhlaWdodD0iMTUiIG92ZXJmbG93PSJoaWRkZW4iIHZpZXdCb3g9IjAgMCA2MyAxNSI+PGRlZnM+PHBhdGggaWQ9Il9nbHlweV8weDIyNDgiIGQ9Ik02MDYgLTk0MFE1MTIgLTk4MiA0MzYgLTk3MFEyNTUgLTk0MCAxNDYgLTc0MlExMzIgLTcxNSAxNDAuMCAtNjg3LjVRMTQ4IC02NjAgMTc0IC02NDRRMjAxIC02MzAgMjI5LjAgLTYzOC4wUTI1NyAtNjQ2IDI3MiAtNjcyUTM1MCAtODEzIDQ1OSAtODI4UTQ4OSAtODM0IDU1MyAtODA3UTU3NSAtNzk3IDU5OC41IC03ODUuMFE2MjIgLTc3MyA2NjUgLTc0OUw3MTUgLTcyMVE3MzggLTcwOCA3NTUgLTY5OUw3NjYgLTY5M1E4OTMgLTYyMyA5ODcgLTYxM1ExMjE3IC01OTEgMTM2MCAtODQyUTEzNzUgLTg2OSAxMzY3LjUgLTg5Ni41UTEzNjAgLTkyNCAxMzM0IC05NDBRMTMwNyAtOTU1IDEyNzkuMCAtOTQ3LjVRMTI1MSAtOTQwIDEyMzUgLTkxNFExMTM0IC03MzggMTAwMiAtNzU2UTkzOSAtNzYyIDgzMCAtODIyTDgyOSAtODIzUTgxMyAtODMxIDc5MyAtODQyTDczNiAtODc0UTY5MiAtODk5IDY2Ni4wIC05MTIuNVE2NDAgLTkyNiA2MTYgLTkzNlpNNjA2IC01MDRRNTEyIC01NDYgNDM2IC01MzRRMjU1IC01MDQgMTQ2IC0zMDZRMTMyIC0yNzkgMTQwLjAgLTI1MS41UTE0OCAtMjI0IDE3NCAtMjA4UTIwMSAtMTk0IDIyOS4wIC0yMDIuMFEyNTcgLTIxMCAyNzIgLTIzNlEzNTAgLTM3NyA0NTkgLTM5MlE0ODkgLTM5OCA1NTMgLTM3MVE1NzUgLTM2MSA1OTguNSAtMzQ5LjBRNjIyIC0zMzcgNjY1IC0zMTNMNzE1IC0yODVRNzM4IC0yNzIgNzU1IC0yNjNMNzY2IC0yNTdRODkzIC0xODcgOTg3IC0xNzdRMTIxNyAtMTU1IDEzNjAgLTQwNlExMzc1IC00MzMgMTM2Ny41IC00NjAuNVExMzYwIC00ODggMTMzNCAtNTA0UTEzMDcgLTUxOSAxMjc5LjAgLTUxMS41UTEyNTEgLTUwNCAxMjM1IC00NzhRMTEzNCAtMzAyIDEwMDIgLTMyMFE5MzkgLTMyNiA4MzAgLTM4Nkw4MjkgLTM4N1E4MTMgLTM5NSA3OTMgLTQwNkw3MzYgLTQzOFE2OTIgLTQ2MyA2NjYuMCAtNDc2LjVRNjQwIC00OTAgNjE2IC01MDBaIj48L3BhdGg+PHBhdGggaWQ9Il9nbHlweV8weDFkNDNiIiBkPSJNMTE1OSAwSDk3NEwxMDY0IC02MDJINDAyTDMxMiAwSDEyOEwzMzIgLTEzNjVINTE2TDQyNCAtNzQ3SDEwODZMMTE3OCAtMTM2NUgxMzYzWiI+PC9wYXRoPjxwYXRoIGlkPSJfZ2x5cHlfMHgxZDQ0MyIgZD0iTTMwOSAtNTQ5IDIyNyAwSDQzTDI0NyAtMTM2NUg3NjhROTc4IC0xMzY1IDEwODYuMCAtMTI1MS41UTExOTQgLTExMzggMTE2OCAtOTU3UTExMzggLTc2NCAxMDAzLjAgLTY1Ni41UTg2OCAtNTQ5IDY0NyAtNTQ5Wk0zMzAgLTY5M0g2NjhRODAxIC02OTMgODgzLjUgLTc2OC41UTk2NiAtODQ0IDk4MyAtOTU1UTEwMDAgLTEwNzIgOTQzLjAgLTExNDYuMFE4ODYgLTEyMjAgNzQ3IC0xMjIwSDQxMFoiPjwvcGF0aD48cGF0aCBpZD0iX2dseXB5XzB4MWQ0NGEiIGQ9Ik00ODYgLTQ2NCA0ODMgLTI4NCA0ODggLTI4MyA1NDggLTQ2NCA5MjYgLTEzNjVIMTEwOEwxMjIwIC00NjRMMTIyNCAtMjgxTDEyMjkgLTI4MEwxMjgzIC00NjRMMTYxNCAtMTM2NUgxODE2TDEyNzcgMTNIMTExMUw5ODAgLTk0NEw5NzcgLTEwNjZMOTcxIC0xMDY3TDkzMyAtOTQ0TDUxMSAxM0gzNDVMMjE5IC0xMzY1SDQyMFoiPjwvcGF0aD48L2RlZnM+PGc+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMSwgMSkiPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDAsIDExLjk5NzA3MDMxMjUpIj48dXNlIHg9IjAiIHk9IjAiIHhsaW5rOmhyZWY9IiNfZ2x5cHlfMHgxZDQ0MyIgdHJhbnNmb3JtPSJzY2FsZSgwLjAwODc4OTA2MjUsIDAuMDA4Nzg5MDYyNSkiIHN0eWxlPSJmaWxsOiMwMDAwMDAiPjwvdXNlPjwvZz48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxNC40NzMzODg2NzE4NzUsIDExLjk5NzA3MDMxMjUpIj48dXNlIHg9IjAiIHk9IjAiIHhsaW5rOmhyZWY9IiNfZ2x5cHlfMHgyMjQ4IiB0cmFuc2Zvcm09InNjYWxlKDAuMDA4Nzg5MDYyNSwgMC4wMDg3ODkwNjI1KSIgc3R5bGU9ImZpbGw6IzAwMDAwMCI+PC91c2U+PC9nPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDMxLjAyOTc4NTE1NjI1LCAxMS45OTcwNzAzMTI1KSI+PHVzZSB4PSIwIiB5PSIwIiB4bGluazpocmVmPSIjX2dseXB5XzB4MWQ0NGEiIHRyYW5zZm9ybT0ic2NhbGUoMC4wMDg3ODkwNjI1LCAwLjAwODc4OTA2MjUpIiBzdHlsZT0iZmlsbDojMDAwMDAwIj48L3VzZT48L2c+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoNDguMTI0NTExNzE4NzUsIDExLjk5NzA3MDMxMjUpIj48dXNlIHg9IjAiIHk9IjAiIHhsaW5rOmhyZWY9IiNfZ2x5cHlfMHgxZDQzYiIgdHJhbnNmb3JtPSJzY2FsZSgwLjAwODc4OTA2MjUsIDAuMDA4Nzg5MDYyNSkiIHN0eWxlPSJmaWxsOiMwMDAwMDAiPjwvdXNlPjwvZz48L2c+PC9nPjwvc3ZnPg==)

W 中的每一行是用户的特定系数，H 中的每一列是 Web 服务的因子向量

例如对于矩阵 P：

![](https://www.kdocs.cn/api/v3/office/copy/RCtqeENIb0VIbXhnU2hUTGlyWi9FWEFDSENScTBVaWFVUlZCRnpCbFY2RStPSlVlUEs3MzlhN1l4aHJqdXp3ZGpiUXZSTkhnNlFNMXVzOGxCOGdOaXdVMjFUSlpieUNubXRiTmN5TXQ1QkYwbnRpbS9McS9Sc2FqaDlldVAzdkN2NDd4cndTNjdFNENXZjVZSTlNd3pBYUtHM3FPSkZmRVlFajVpYjVnVlUzNjd3UDZqTFIrb3lyVHhjWi9hZXNDUyt0ZVp3VDh4c0xTMlhNRXBCUWRzMVFpRW1nNnZSL0dzUGVKSkgrUW9uaVBGRlJSSXJoLy9xVWNxRU85NHEvTmR6aExVSGgyVzVzPQ==/attach/object/GOVJIAYAYM)

可以将其分解为：

![](https://www.kdocs.cn/api/v3/office/copy/RCtqeENIb0VIbXhnU2hUTGlyWi9FWEFDSENScTBVaWFVUlZCRnpCbFY2RStPSlVlUEs3MzlhN1l4aHJqdXp3ZGpiUXZSTkhnNlFNMXVzOGxCOGdOaXdVMjFUSlpieUNubXRiTmN5TXQ1QkYwbnRpbS9McS9Sc2FqaDlldVAzdkN2NDd4cndTNjdFNENXZjVZSTlNd3pBYUtHM3FPSkZmRVlFajVpYjVnVlUzNjd3UDZqTFIrb3lyVHhjWi9hZXNDUyt0ZVp3VDh4c0xTMlhNRXBCUWRzMVFpRW1nNnZSL0dzUGVKSkgrUW9uaVBGRlJSSXJoLy9xVWNxRU85NHEvTmR6aExVSGgyVzVzPQ==/attach/object/SKVJIAYA6E)

通过矩阵 W 和 H 的乘积，计算 P 中空缺的部分，完成 Qos 预测。

![](https://www.kdocs.cn/api/v3/office/copy/RCtqeENIb0VIbXhnU2hUTGlyWi9FWEFDSENScTBVaWFVUlZCRnpCbFY2RStPSlVlUEs3MzlhN1l4aHJqdXp3ZGpiUXZSTkhnNlFNMXVzOGxCOGdOaXdVMjFUSlpieUNubXRiTmN5TXQ1QkYwbnRpbS9McS9Sc2FqaDlldVAzdkN2NDd4cndTNjdFNENXZjVZSTlNd3pBYUtHM3FPSkZmRVlFajVpYjVnVlUzNjd3UDZqTFIrb3lyVHhjWi9hZXNDUyt0ZVp3VDh4c0xTMlhNRXBCUWRzMVFpRW1nNnZSL0dzUGVKSkgrUW9uaVBGRlJSSXJoLy9xVWNxRU85NHEvTmR6aExVSGgyVzVzPQ==/attach/object/UOVJIAYAJU)

矩阵 W 和 H 通常不唯一，通过使 WH 和 P 之间距离最小化来确定，文章中使用平方误差的方法，计算 P 和 WH 的差异：

![](https://www.kdocs.cn/api/v3/office/copy/RCtqeENIb0VIbXhnU2hUTGlyWi9FWEFDSENScTBVaWFVUlZCRnpCbFY2RStPSlVlUEs3MzlhN1l4aHJqdXp3ZGpiUXZSTkhnNlFNMXVzOGxCOGdOaXdVMjFUSlpieUNubXRiTmN5TXQ1QkYwbnRpbS9McS9Sc2FqaDlldVAzdkN2NDd4cndTNjdFNENXZjVZSTlNd3pBYUtHM3FPSkZmRVlFajVpYjVnVlUzNjd3UDZqTFIrb3lyVHhjWi9hZXNDUyt0ZVp3VDh4c0xTMlhNRXBCUWRzMVFpRW1nNnZSL0dzUGVKSkgrUW9uaVBGRlJSSXJoLy9xVWNxRU85NHEvTmR6aExVSGgyVzVzPQ==/attach/object/ZGVJIAYAOU)

但为了避免过拟合，需要增加惩罚函数，最终可以将优化问题归结为如下目标函数

![](https://www.kdocs.cn/api/v3/office/copy/RCtqeENIb0VIbXhnU2hUTGlyWi9FWEFDSENScTBVaWFVUlZCRnpCbFY2RStPSlVlUEs3MzlhN1l4aHJqdXp3ZGpiUXZSTkhnNlFNMXVzOGxCOGdOaXdVMjFUSlpieUNubXRiTmN5TXQ1QkYwbnRpbS9McS9Sc2FqaDlldVAzdkN2NDd4cndTNjdFNENXZjVZSTlNd3pBYUtHM3FPSkZmRVlFajVpYjVnVlUzNjd3UDZqTFIrb3lyVHhjWi9hZXNDUyt0ZVp3VDh4c0xTMlhNRXBCUWRzMVFpRW1nNnZSL0dzUGVKSkgrUW9uaVBGRlJSSXJoLy9xVWNxRU85NHEvTmR6aExVSGgyVzVzPQ==/attach/object/6GVJIAYCJU)

1. 使用梯度下降的方法，找到目标函数的局部最小值

算法流程为：

![](https://www.kdocs.cn/api/v3/office/copy/RCtqeENIb0VIbXhnU2hUTGlyWi9FWEFDSENScTBVaWFVUlZCRnpCbFY2RStPSlVlUEs3MzlhN1l4aHJqdXp3ZGpiUXZSTkhnNlFNMXVzOGxCOGdOaXdVMjFUSlpieUNubXRiTmN5TXQ1QkYwbnRpbS9McS9Sc2FqaDlldVAzdkN2NDd4cndTNjdFNENXZjVZSTlNd3pBYUtHM3FPSkZmRVlFajVpYjVnVlUzNjd3UDZqTFIrb3lyVHhjWi9hZXNDUyt0ZVp3VDh4c0xTMlhNRXBCUWRzMVFpRW1nNnZSL0dzUGVKSkgrUW9uaVBGRlJSSXJoLy9xVWNxRU85NHEvTmR6aExVSGgyVzVzPQ==/attach/object/EGVZIAYFN4)

其中，梯度可以通过下式得到：

![](https://www.kdocs.cn/api/v3/office/copy/RCtqeENIb0VIbXhnU2hUTGlyWi9FWEFDSENScTBVaWFVUlZCRnpCbFY2RStPSlVlUEs3MzlhN1l4aHJqdXp3ZGpiUXZSTkhnNlFNMXVzOGxCOGdOaXdVMjFUSlpieUNubXRiTmN5TXQ1QkYwbnRpbS9McS9Sc2FqaDlldVAzdkN2NDd4cndTNjdFNENXZjVZSTlNd3pBYUtHM3FPSkZmRVlFajVpYjVnVlUzNjd3UDZqTFIrb3lyVHhjWi9hZXNDUyt0ZVp3VDh4c0xTMlhNRXBCUWRzMVFpRW1nNnZSL0dzUGVKSkgrUW9uaVBGRlJSSXJoLy9xVWNxRU85NHEvTmR6aExVSGgyVzVzPQ==/attach/object/I2VZIAYBWE)

首先。用小的随机数初始化矩阵 W 和 H；

之后，通过梯度下降的方法，迭代更新矩阵 W 和 H，参数![](data:image/svg+xml;base64,PHN2ZyB3cHNUeXBlPSJsYXRleCIgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB3aWR0aD0iMTMiIGhlaWdodD0iMTEiIG92ZXJmbG93PSJoaWRkZW4iIHZpZXdCb3g9IjAgMCAxMyAxMSI+PGRlZnM+PHBhdGggaWQ9Il9nbHlweV8weDFkNmZjIiBkPSJNMTA5OSAtOTU0IDk5MyAtMjQ1UTk4MyAtMTc5IDk5Ny4wIC0xNTUuNVExMDExIC0xMzIgMTA0MyAtMTMyUTEwNTUgLTEzMiAxMDY3LjUgLTEzMy41UTEwODAgLTEzNSAxMDg5IC0xMzlMMTA5MSAtMTRRMTA2MyA0IDEwMzYuMCAxMC4wUTEwMDkgMTYgOTc2IDE2UTkxNCAxNiA4NzMuNSAtMTIuMFE4MzMgLTQwIDgyMCAtMTAyUTc2NCAtNDMgNjkyLjAgLTEzLjVRNjIwIDE2IDUzMiAxNlEzNjQgMTYgMjgxLjUgLTExMS41UTE5OSAtMjM5IDIzMCAtNDQxTDIzMiAtNDYwUTI2OCAtNzAwIDM4NS41IC04MzYuMFE1MDMgLTk3MiA2ODEgLTk3MlE3NjcgLTk3MiA4MzAuNSAtOTM5LjBRODk0IC05MDYgOTM0IC04NDVMOTk2IC05NTRaTTQwMyAtNDQxUTM4MCAtMjkyIDQyNS41IC0yMDUuNVE0NzEgLTExOSA1OTYgLTExOVE2NjQgLTExOSA3MjAuMCAtMTUxLjBRNzc2IC0xODMgODE5IC0yNDBRODE5IC0yNDEgODE5LjUgLTI0Mi41UTgyMCAtMjQ0IDgyMCAtMjQ1TDg5MSAtNzIyUTg2NiAtNzc0IDgxOS41IC04MDUuMFE3NzMgLTgzNiA3MDUgLTgzNlE1ODUgLTgzNiA1MDcuMCAtNzI5LjVRNDI5IC02MjMgNDA1IC00NjBaIj48L3BhdGg+PC9kZWZzPjxnPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDEsIDEpIj48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgwLCA4LjU1MTc1NzgxMjUpIj48dXNlIHg9IjAiIHk9IjAiIHhsaW5rOmhyZWY9IiNfZ2x5cHlfMHgxZDZmYyIgdHJhbnNmb3JtPSJzY2FsZSgwLjAwODc4OTA2MjUsIDAuMDA4Nzg5MDYyNSkiIHN0eWxlPSJmaWxsOiMwMDAwMDAiPjwvdXNlPjwvZz48L2c+PC9nPjwvc3ZnPg==)为学习率，控制迭代的速度。

迭代停止时，计算出目标函数取得极小值处的 W 和 H，进行 QoS 预测

### CloudPred 方法(基于邻域的方法)

🔔

**CloudPred 方法**

文章链接：[Exploring Latent Features for Memory-Based QoS Prediction in Cloud Computing](https://ieeexplore.ieee.org/document/6076756?arnumber=6076756)

**运行结果**

![](https://www.kdocs.cn/api/v3/office/copy/RCtqeENIb0VIbXhnU2hUTGlyWi9FWEFDSENScTBVaWFVUlZCRnpCbFY2RStPSlVlUEs3MzlhN1l4aHJqdXp3ZGpiUXZSTkhnNlFNMXVzOGxCOGdOaXdVMjFUSlpieUNubXRiTmN5TXQ1QkYwbnRpbS9McS9Sc2FqaDlldVAzdkN2NDd4cndTNjdFNENXZjVZSTlNd3pBYUtHM3FPSkZmRVlFajVpYjVnVlUzNjd3UDZqTFIrb3lyVHhjWi9hZXNDUyt0ZVp3VDh4c0xTMlhNRXBCUWRzMVFpRW1nNnZSL0dzUGVKSkgrUW9uaVBGRlJSSXJoLy9xVWNxRU85NHEvTmR6aExVSGgyVzVzPQ==/attach/object/EOZZIAYAFA)

![](https://www.kdocs.cn/api/v3/office/copy/RCtqeENIb0VIbXhnU2hUTGlyWi9FWEFDSENScTBVaWFVUlZCRnpCbFY2RStPSlVlUEs3MzlhN1l4aHJqdXp3ZGpiUXZSTkhnNlFNMXVzOGxCOGdOaXdVMjFUSlpieUNubXRiTmN5TXQ1QkYwbnRpbS9McS9Sc2FqaDlldVAzdkN2NDd4cndTNjdFNENXZjVZSTlNd3pBYUtHM3FPSkZmRVlFajVpYjVnVlUzNjd3UDZqTFIrb3lyVHhjWi9hZXNDUyt0ZVp3VDh4c0xTMlhNRXBCUWRzMVFpRW1nNnZSL0dzUGVKSkgrUW9uaVBGRlJSSXJoLy9xVWNxRU85NHEvTmR6aExVSGgyVzVzPQ==/attach/object/DO5ZIAYAQI)

**方法原理**

作者提出了一种基于邻域的方法，称为 CloudPred，用于云组件的协作和个性化质量预测。 CloudPred 通过对用户和组件进行特征建模得到增强。

CloudPred 是基于邻域的方法，CloudPred通过非负矩阵分解（NMF）了解用户的特征，并探索类似用户的QoS体验，以实现较高的QoS值预测准确性。

该方法将 QoS 矩阵分解为两个低秩矩阵 V 和 H，V 中的每一列代表用户的 l 维特征向量，H 中的每一列代表组件的特征向量。使用近似矩阵 ![](data:image/svg+xml;base64,PHN2ZyB3cHNUeXBlPSJsYXRleCIgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB3aWR0aD0iNzAiIGhlaWdodD0iMTciIG92ZXJmbG93PSJoaWRkZW4iIHZpZXdCb3g9IjAgMCA3MCAxNyI+PGRlZnM+PHBhdGggaWQ9Il9nbHlweV8weDIyNDgiIGQ9Ik02MDYgLTk0MFE1MTIgLTk4MiA0MzYgLTk3MFEyNTUgLTk0MCAxNDYgLTc0MlExMzIgLTcxNSAxNDAuMCAtNjg3LjVRMTQ4IC02NjAgMTc0IC02NDRRMjAxIC02MzAgMjI5LjAgLTYzOC4wUTI1NyAtNjQ2IDI3MiAtNjcyUTM1MCAtODEzIDQ1OSAtODI4UTQ4OSAtODM0IDU1MyAtODA3UTU3NSAtNzk3IDU5OC41IC03ODUuMFE2MjIgLTc3MyA2NjUgLTc0OUw3MTUgLTcyMVE3MzggLTcwOCA3NTUgLTY5OUw3NjYgLTY5M1E4OTMgLTYyMyA5ODcgLTYxM1ExMjE3IC01OTEgMTM2MCAtODQyUTEzNzUgLTg2OSAxMzY3LjUgLTg5Ni41UTEzNjAgLTkyNCAxMzM0IC05NDBRMTMwNyAtOTU1IDEyNzkuMCAtOTQ3LjVRMTI1MSAtOTQwIDEyMzUgLTkxNFExMTM0IC03MzggMTAwMiAtNzU2UTkzOSAtNzYyIDgzMCAtODIyTDgyOSAtODIzUTgxMyAtODMxIDc5MyAtODQyTDczNiAtODc0UTY5MiAtODk5IDY2Ni4wIC05MTIuNVE2NDAgLTkyNiA2MTYgLTkzNlpNNjA2IC01MDRRNTEyIC01NDYgNDM2IC01MzRRMjU1IC01MDQgMTQ2IC0zMDZRMTMyIC0yNzkgMTQwLjAgLTI1MS41UTE0OCAtMjI0IDE3NCAtMjA4UTIwMSAtMTk0IDIyOS4wIC0yMDIuMFEyNTcgLTIxMCAyNzIgLTIzNlEzNTAgLTM3NyA0NTkgLTM5MlE0ODkgLTM5OCA1NTMgLTM3MVE1NzUgLTM2MSA1OTguNSAtMzQ5LjBRNjIyIC0zMzcgNjY1IC0zMTNMNzE1IC0yODVRNzM4IC0yNzIgNzU1IC0yNjNMNzY2IC0yNTdRODkzIC0xODcgOTg3IC0xNzdRMTIxNyAtMTU1IDEzNjAgLTQwNlExMzc1IC00MzMgMTM2Ny41IC00NjAuNVExMzYwIC00ODggMTMzNCAtNTA0UTEzMDcgLTUxOSAxMjc5LjAgLTUxMS41UTEyNTEgLTUwNCAxMjM1IC00NzhRMTEzNCAtMzAyIDEwMDIgLTMyMFE5MzkgLTMyNiA4MzAgLTM4Nkw4MjkgLTM4N1E4MTMgLTM5NSA3OTMgLTQwNkw3MzYgLTQzOFE2OTIgLTQ2MyA2NjYuMCAtNDc2LjVRNjQwIC00OTAgNjE2IC01MDBaIj48L3BhdGg+PHBhdGggaWQ9Il9nbHlweV8weDFkNDNiIiBkPSJNMTE1OSAwSDk3NEwxMDY0IC02MDJINDAyTDMxMiAwSDEyOEwzMzIgLTEzNjVINTE2TDQyNCAtNzQ3SDEwODZMMTE3OCAtMTM2NUgxMzYzWiI+PC9wYXRoPjxwYXRoIGlkPSJfZ2x5cHlfMHgxZDQ0NyIgZD0iTTExNjAgLTEyMTlINzA4TDUyNSAwSDM0MEw1MjMgLTEyMTlINzdMOTkgLTEzNjVIMTE4MloiPjwvcGF0aD48cGF0aCBpZD0iX2dseXB5XzB4MWQ0NDkiIGQ9Ik00OTQgLTM0NiA1MDkgLTIzMiA1MTQgLTIzMSA1NjMgLTM0NiAxMDcxIC0xMzY1SDEyNzNMNTU0IDE2SDM5NEw4OCAtMTM2NUgyOTFaIj48L3BhdGg+PHBhdGggaWQ9Il9nbHlweV8weDFkNDRhIiBkPSJNNDg2IC00NjQgNDgzIC0yODQgNDg4IC0yODMgNTQ4IC00NjQgOTI2IC0xMzY1SDExMDhMMTIyMCAtNDY0TDEyMjQgLTI4MUwxMjI5IC0yODBMMTI4MyAtNDY0TDE2MTQgLTEzNjVIMTgxNkwxMjc3IDEzSDExMTFMOTgwIC05NDRMOTc3IC0xMDY2TDk3MSAtMTA2N0w5MzMgLTk0NEw1MTEgMTNIMzQ1TDIxOSAtMTM2NUg0MjBaIj48L3BhdGg+PC9kZWZzPjxnPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDEsIDEpIj48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgwLCAxNC43NDgwNDY4NzUpIj48dXNlIHg9IjAiIHk9IjAiIHhsaW5rOmhyZWY9IiNfZ2x5cHlfMHgxZDQ0YSIgdHJhbnNmb3JtPSJzY2FsZSgwLjAwODc4OTA2MjUsIDAuMDA4Nzg5MDYyNSkiIHN0eWxlPSJmaWxsOiMwMDAwMDAiPjwvdXNlPjwvZz48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgyMC40MDYwMDU4NTkzNzUsIDE0Ljc0ODA0Njg3NSkiPjx1c2UgeD0iMCIgeT0iMCIgeGxpbms6aHJlZj0iI19nbHlweV8weDIyNDgiIHRyYW5zZm9ybT0ic2NhbGUoMC4wMDg3ODkwNjI1LCAwLjAwODc4OTA2MjUpIiBzdHlsZT0iZmlsbDojMDAwMDAwIj48L3VzZT48L2c+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMzYuOTYyNDAyMzQzNzUsIDIuNzUwOTc2NTYyNSkiPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDAsIDExLjk5NzA3MDMxMjUpIj48dXNlIHg9IjAiIHk9IjAiIHhsaW5rOmhyZWY9IiNfZ2x5cHlfMHgxZDQ0OSIgdHJhbnNmb3JtPSJzY2FsZSgwLjAwODc4OTA2MjUsIDAuMDA4Nzg5MDYyNSkiIHN0eWxlPSJmaWxsOiMwMDAwMDAiPjwvdXNlPjwvZz48L2c+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoNDguMjIxMTkxNDA2MjUsIDApIj48Zz48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgwLCA3Ljk5ODA0Njg3NSkiPjx1c2UgeD0iMCIgeT0iMCIgeGxpbms6aHJlZj0iI19nbHlweV8weDFkNDQ3IiB0cmFuc2Zvcm09InNjYWxlKDAuMDA1ODU5Mzc1LCAwLjAwNTg1OTM3NSkiIHN0eWxlPSJmaWxsOiMwMDAwMDAiPjwvdXNlPjwvZz48L2c+PC9nPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDU1LjM2Mzc2OTUzMTI1LCAxNC43NDgwNDY4NzUpIj48dXNlIHg9IjAiIHk9IjAiIHhsaW5rOmhyZWY9IiNfZ2x5cHlfMHgxZDQzYiIgdHJhbnNmb3JtPSJzY2FsZSgwLjAwODc4OTA2MjUsIDAuMDA4Nzg5MDYyNSkiIHN0eWxlPSJmaWxsOiMwMDAwMDAiPjwvdXNlPjwvZz48L2c+PC9nPjwvc3ZnPg==) 来拟合

矩阵 V 和 H 是未知的，通过矩阵 W 中获得的 QoS 值学习，通过近似矩阵和原矩阵的距离，定义成本函数

![](https://www.kdocs.cn/api/v3/office/copy/RCtqeENIb0VIbXhnU2hUTGlyWi9FWEFDSENScTBVaWFVUlZCRnpCbFY2RStPSlVlUEs3MzlhN1l4aHJqdXp3ZGpiUXZSTkhnNlFNMXVzOGxCOGdOaXdVMjFUSlpieUNubXRiTmN5TXQ1QkYwbnRpbS9McS9Sc2FqaDlldVAzdkN2NDd4cndTNjdFNENXZjVZSTlNd3pBYUtHM3FPSkZmRVlFajVpYjVnVlUzNjd3UDZqTFIrb3lyVHhjWi9hZXNDUyt0ZVp3VDh4c0xTMlhNRXBCUWRzMVFpRW1nNnZSL0dzUGVKSkgrUW9uaVBGRlJSSXJoLy9xVWNxRU85NHEvTmR6aExVSGgyVzVzPQ==/attach/object/ZC2JIAYAJA)

目标函数为：

![](https://www.kdocs.cn/api/v3/office/copy/RCtqeENIb0VIbXhnU2hUTGlyWi9FWEFDSENScTBVaWFVUlZCRnpCbFY2RStPSlVlUEs3MzlhN1l4aHJqdXp3ZGpiUXZSTkhnNlFNMXVzOGxCOGdOaXdVMjFUSlpieUNubXRiTmN5TXQ1QkYwbnRpbS9McS9Sc2FqaDlldVAzdkN2NDd4cndTNjdFNENXZjVZSTlNd3pBYUtHM3FPSkZmRVlFajVpYjVnVlUzNjd3UDZqTFIrb3lyVHhjWi9hZXNDUyt0ZVp3VDh4c0xTMlhNRXBCUWRzMVFpRW1nNnZSL0dzUGVKSkgrUW9uaVBGRlJSSXJoLy9xVWNxRU85NHEvTmR6aExVSGgyVzVzPQ==/attach/object/7C2JIAYAJU)

为了使目标函数最小化，使用梯度下降的方法，计算局部最小值

![](https://www.kdocs.cn/api/v3/office/copy/RCtqeENIb0VIbXhnU2hUTGlyWi9FWEFDSENScTBVaWFVUlZCRnpCbFY2RStPSlVlUEs3MzlhN1l4aHJqdXp3ZGpiUXZSTkhnNlFNMXVzOGxCOGdOaXdVMjFUSlpieUNubXRiTmN5TXQ1QkYwbnRpbS9McS9Sc2FqaDlldVAzdkN2NDd4cndTNjdFNENXZjVZSTlNd3pBYUtHM3FPSkZmRVlFajVpYjVnVlUzNjd3UDZqTFIrb3lyVHhjWi9hZXNDUyt0ZVp3VDh4c0xTMlhNRXBCUWRzMVFpRW1nNnZSL0dzUGVKSkgrUW9uaVBGRlJSSXJoLy9xVWNxRU85NHEvTmR6aExVSGgyVzVzPQ==/attach/object/CS2ZIAYCEU)

**相似度计算**

得到用户和组件特征矩阵 V 和 H 后，使用Person 相关系数，计算不同用户和组件的邻域相似度，

![](https://www.kdocs.cn/api/v3/office/copy/RCtqeENIb0VIbXhnU2hUTGlyWi9FWEFDSENScTBVaWFVUlZCRnpCbFY2RStPSlVlUEs3MzlhN1l4aHJqdXp3ZGpiUXZSTkhnNlFNMXVzOGxCOGdOaXdVMjFUSlpieUNubXRiTmN5TXQ1QkYwbnRpbS9McS9Sc2FqaDlldVAzdkN2NDd4cndTNjdFNENXZjVZSTlNd3pBYUtHM3FPSkZmRVlFajVpYjVnVlUzNjd3UDZqTFIrb3lyVHhjWi9hZXNDUyt0ZVp3VDh4c0xTMlhNRXBCUWRzMVFpRW1nNnZSL0dzUGVKSkgrUW9uaVBGRlJSSXJoLy9xVWNxRU85NHEvTmR6aExVSGgyVzVzPQ==/attach/object/IW2ZIAYADM)

![](https://www.kdocs.cn/api/v3/office/copy/RCtqeENIb0VIbXhnU2hUTGlyWi9FWEFDSENScTBVaWFVUlZCRnpCbFY2RStPSlVlUEs3MzlhN1l4aHJqdXp3ZGpiUXZSTkhnNlFNMXVzOGxCOGdOaXdVMjFUSlpieUNubXRiTmN5TXQ1QkYwbnRpbS9McS9Sc2FqaDlldVAzdkN2NDd4cndTNjdFNENXZjVZSTlNd3pBYUtHM3FPSkZmRVlFajVpYjVnVlUzNjd3UDZqTFIrb3lyVHhjWi9hZXNDUyt0ZVp3VDh4c0xTMlhNRXBCUWRzMVFpRW1nNnZSL0dzUGVKSkgrUW9uaVBGRlJSSXJoLy9xVWNxRU85NHEvTmR6aExVSGgyVzVzPQ==/attach/object/KO2ZIAYA5A)

**QoS 预测**

通过对相似度进行排序来识别当前用户的相似邻居。较少相似或不相似用户的QoS可能会大大降低预测准确性。 作者从相似的邻居集中排除PCC值为负的那些用户，而仅使用Top-K最大PCC值的的QoS来预测当前用户的QoS值。

![](https://www.kdocs.cn/api/v3/office/copy/RCtqeENIb0VIbXhnU2hUTGlyWi9FWEFDSENScTBVaWFVUlZCRnpCbFY2RStPSlVlUEs3MzlhN1l4aHJqdXp3ZGpiUXZSTkhnNlFNMXVzOGxCOGdOaXdVMjFUSlpieUNubXRiTmN5TXQ1QkYwbnRpbS9McS9Sc2FqaDlldVAzdkN2NDd4cndTNjdFNENXZjVZSTlNd3pBYUtHM3FPSkZmRVlFajVpYjVnVlUzNjd3UDZqTFIrb3lyVHhjWi9hZXNDUyt0ZVp3VDh4c0xTMlhNRXBCUWRzMVFpRW1nNnZSL0dzUGVKSkgrUW9uaVBGRlJSSXJoLy9xVWNxRU85NHEvTmR6aExVSGgyVzVzPQ==/attach/object/PG2ZIAYAJU)

![](https://www.kdocs.cn/api/v3/office/copy/RCtqeENIb0VIbXhnU2hUTGlyWi9FWEFDSENScTBVaWFVUlZCRnpCbFY2RStPSlVlUEs3MzlhN1l4aHJqdXp3ZGpiUXZSTkhnNlFNMXVzOGxCOGdOaXdVMjFUSlpieUNubXRiTmN5TXQ1QkYwbnRpbS9McS9Sc2FqaDlldVAzdkN2NDd4cndTNjdFNENXZjVZSTlNd3pBYUtHM3FPSkZmRVlFajVpYjVnVlUzNjd3UDZqTFIrb3lyVHhjWi9hZXNDUyt0ZVp3VDh4c0xTMlhNRXBCUWRzMVFpRW1nNnZSL0dzUGVKSkgrUW9uaVBGRlJSSXJoLy9xVWNxRU85NHEvTmR6aExVSGgyVzVzPQ==/attach/object/QW2ZIAYAZI)

![](https://www.kdocs.cn/api/v3/office/copy/RCtqeENIb0VIbXhnU2hUTGlyWi9FWEFDSENScTBVaWFVUlZCRnpCbFY2RStPSlVlUEs3MzlhN1l4aHJqdXp3ZGpiUXZSTkhnNlFNMXVzOGxCOGdOaXdVMjFUSlpieUNubXRiTmN5TXQ1QkYwbnRpbS9McS9Sc2FqaDlldVAzdkN2NDd4cndTNjdFNENXZjVZSTlNd3pBYUtHM3FPSkZmRVlFajVpYjVnVlUzNjd3UDZqTFIrb3lyVHhjWi9hZXNDUyt0ZVp3VDh4c0xTMlhNRXBCUWRzMVFpRW1nNnZSL0dzUGVKSkgrUW9uaVBGRlJSSXJoLy9xVWNxRU85NHEvTmR6aExVSGgyVzVzPQ==/attach/object/R22ZIAYAKM)

CloudPred 预测算法，混合了基于用户的预测方法和基于组件的方法，其算法如下：

![](https://www.kdocs.cn/api/v3/office/copy/RCtqeENIb0VIbXhnU2hUTGlyWi9FWEFDSENScTBVaWFVUlZCRnpCbFY2RStPSlVlUEs3MzlhN1l4aHJqdXp3ZGpiUXZSTkhnNlFNMXVzOGxCOGdOaXdVMjFUSlpieUNubXRiTmN5TXQ1QkYwbnRpbS9McS9Sc2FqaDlldVAzdkN2NDd4cndTNjdFNENXZjVZSTlNd3pBYUtHM3FPSkZmRVlFajVpYjVnVlUzNjd3UDZqTFIrb3lyVHhjWi9hZXNDUyt0ZVp3VDh4c0xTMlhNRXBCUWRzMVFpRW1nNnZSL0dzUGVKSkgrUW9uaVBGRlJSSXJoLy9xVWNxRU85NHEvTmR6aExVSGgyVzVzPQ==/attach/object/2W2ZIAYAWI)

### **EMF (扩展矩阵分解)**

📌

**EMF： Extended Matrix Factorization**

文章：[An Extended Matrix Factorization Approach for QoS Prediction in Service Selection](https://ieeexplore.ieee.org/document/6274140?arnumber=6274140&tag=1)

**运行结果**

![](https://www.kdocs.cn/api/v3/office/copy/RCtqeENIb0VIbXhnU2hUTGlyWi9FWEFDSENScTBVaWFVUlZCRnpCbFY2RStPSlVlUEs3MzlhN1l4aHJqdXp3ZGpiUXZSTkhnNlFNMXVzOGxCOGdOaXdVMjFUSlpieUNubXRiTmN5TXQ1QkYwbnRpbS9McS9Sc2FqaDlldVAzdkN2NDd4cndTNjdFNENXZjVZSTlNd3pBYUtHM3FPSkZmRVlFajVpYjVnVlUzNjd3UDZqTFIrb3lyVHhjWi9hZXNDUyt0ZVp3VDh4c0xTMlhNRXBCUWRzMVFpRW1nNnZSL0dzUGVKSkgrUW9uaVBGRlJSSXJoLy9xVWNxRU85NHEvTmR6aExVSGgyVzVzPQ==/attach/object/IK5ZIAYAN4)

![](https://www.kdocs.cn/api/v3/office/copy/RCtqeENIb0VIbXhnU2hUTGlyWi9FWEFDSENScTBVaWFVUlZCRnpCbFY2RStPSlVlUEs3MzlhN1l4aHJqdXp3ZGpiUXZSTkhnNlFNMXVzOGxCOGdOaXdVMjFUSlpieUNubXRiTmN5TXQ1QkYwbnRpbS9McS9Sc2FqaDlldVAzdkN2NDd4cndTNjdFNENXZjVZSTlNd3pBYUtHM3FPSkZmRVlFajVpYjVnVlUzNjd3UDZqTFIrb3lyVHhjWi9hZXNDUyt0ZVp3VDh4c0xTMlhNRXBCUWRzMVFpRW1nNnZSL0dzUGVKSkgrUW9uaVBGRlJSSXJoLy9xVWNxRU85NHEvTmR6aExVSGgyVzVzPQ==/attach/object/6HHJIAYBDM)

**方法原理**

作者提出了一种具有关系正则化的扩展矩阵分解 (EMF) 框架来进行 QoS 值缺失预测。首先从一般角度阐述矩阵分解（MF）模型。为了准确收集人群的智慧，我们在用户端和服务端采用不同的相似性度量来识别邻域。然后作者在邻域内系统地设计了两个新的关系正则化项。最后，作者将这两个术语组合成一个统一的 MF 框架来预测丢失的 QoS 值。在传统的矩阵分解方法的基础上通过增加**相关用户**和**相关服务**这两个正则项来预测缺失的 QoS 值

文章中，定义 user-service 矩阵为 R，目标将矩阵 R 分解为 U 和 S 两个矩阵：

![](data:image/svg+xml;base64,PHN2ZyB3cHNUeXBlPSJsYXRleCIgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB3aWR0aD0iNjIiIGhlaWdodD0iMTciIG92ZXJmbG93PSJoaWRkZW4iIHZpZXdCb3g9IjAgMCA2MiAxNyI+PGRlZnM+PHBhdGggaWQ9Il9nbHlweV8weDIyNDgiIGQ9Ik02MDYgLTk0MFE1MTIgLTk4MiA0MzYgLTk3MFEyNTUgLTk0MCAxNDYgLTc0MlExMzIgLTcxNSAxNDAuMCAtNjg3LjVRMTQ4IC02NjAgMTc0IC02NDRRMjAxIC02MzAgMjI5LjAgLTYzOC4wUTI1NyAtNjQ2IDI3MiAtNjcyUTM1MCAtODEzIDQ1OSAtODI4UTQ4OSAtODM0IDU1MyAtODA3UTU3NSAtNzk3IDU5OC41IC03ODUuMFE2MjIgLTc3MyA2NjUgLTc0OUw3MTUgLTcyMVE3MzggLTcwOCA3NTUgLTY5OUw3NjYgLTY5M1E4OTMgLTYyMyA5ODcgLTYxM1ExMjE3IC01OTEgMTM2MCAtODQyUTEzNzUgLTg2OSAxMzY3LjUgLTg5Ni41UTEzNjAgLTkyNCAxMzM0IC05NDBRMTMwNyAtOTU1IDEyNzkuMCAtOTQ3LjVRMTI1MSAtOTQwIDEyMzUgLTkxNFExMTM0IC03MzggMTAwMiAtNzU2UTkzOSAtNzYyIDgzMCAtODIyTDgyOSAtODIzUTgxMyAtODMxIDc5MyAtODQyTDczNiAtODc0UTY5MiAtODk5IDY2Ni4wIC05MTIuNVE2NDAgLTkyNiA2MTYgLTkzNlpNNjA2IC01MDRRNTEyIC01NDYgNDM2IC01MzRRMjU1IC01MDQgMTQ2IC0zMDZRMTMyIC0yNzkgMTQwLjAgLTI1MS41UTE0OCAtMjI0IDE3NCAtMjA4UTIwMSAtMTk0IDIyOS4wIC0yMDIuMFEyNTcgLTIxMCAyNzIgLTIzNlEzNTAgLTM3NyA0NTkgLTM5MlE0ODkgLTM5OCA1NTMgLTM3MVE1NzUgLTM2MSA1OTguNSAtMzQ5LjBRNjIyIC0zMzcgNjY1IC0zMTNMNzE1IC0yODVRNzM4IC0yNzIgNzU1IC0yNjNMNzY2IC0yNTdRODkzIC0xODcgOTg3IC0xNzdRMTIxNyAtMTU1IDEzNjAgLTQwNlExMzc1IC00MzMgMTM2Ny41IC00NjAuNVExMzYwIC00ODggMTMzNCAtNTA0UTEzMDcgLTUxOSAxMjc5LjAgLTUxMS41UTEyNTEgLTUwNCAxMjM1IC00NzhRMTEzNCAtMzAyIDEwMDIgLTMyMFE5MzkgLTMyNiA4MzAgLTM4Nkw4MjkgLTM4N1E4MTMgLTM5NSA3OTMgLTQwNkw3MzYgLTQzOFE2OTIgLTQ2MyA2NjYuMCAtNDc2LjVRNjQwIC00OTAgNjE2IC01MDBaIj48L3BhdGg+PHBhdGggaWQ9Il9nbHlweV8weDFkNDQ1IiBkPSJNMzQ3IC01OTIgMjU5IDBINzRMMjc5IC0xMzY1SDc0NlE5NjIgLTEzNjUgMTA2OS41IC0xMjY0LjVRMTE3NyAtMTE2NCAxMTQ5IC05NzZRMTEzMiAtODY2IDEwNjUuNSAtNzkwLjBROTk5IC03MTQgODg1IC02NjlROTg5IC02MzIgMTAyOC41IC01NDkuMFExMDY4IC00NjYgMTA1MSAtMzQ4TDEwMzIgLTIyMFExMDIxIC0xNTMgMTAyOC4wIC0xMDMuNVExMDM1IC01NCAxMDY1IC0yM0wxMDYyIDBIODcxUTgzOSAtMzIgODM4LjAgLTkzLjBRODM3IC0xNTQgODQ3IC0yMjJMODY1IC0zNDZRODgyIC00NjIgODI4LjAgLTUyNy4wUTc3NCAtNTkyIDY2NSAtNTkyWk0zNjkgLTczOEg2MzRRNzg0IC03MzggODY0LjUgLTc5OC4wUTk0NSAtODU4IDk2NCAtOTc4UTk4MiAtMTA5NyA5MjUuMCAtMTE1OC41UTg2OCAtMTIyMCA3MjUgLTEyMjBINDQyWiI+PC9wYXRoPjxwYXRoIGlkPSJfZ2x5cHlfMHgxZDQ0NiIgZD0iTTgxMyAtMzE1UTgyOCAtNDE5IDc2Ni4wIC00ODMuNVE3MDQgLTU0OCA1MjkgLTYwNlEzMTcgLTY3MiAyMjEuMCAtNzY5LjBRMTI1IC04NjYgMTUyIC0xMDQ3UTE3NSAtMTIwNiAzMDMuMCAtMTI5My41UTQzMSAtMTM4MSA2MTkgLTEzODFRODM2IC0xMzgxIDk1Ny41IC0xMjcwLjBRMTA3OSAtMTE1OSAxMDQ1IC05NjVMMTA0MyAtOTU5SDg2OVE4ODYgLTEwODIgODEyLjAgLTExNTkuMFE3MzggLTEyMzYgNTk3IC0xMjM2UTQ5MiAtMTIzNiA0MTguNSAtMTE4Mi41UTM0NSAtMTEyOSAzMzQgLTEwNDlRMzE4IC05MzYgMzc0LjAgLTg3OC41UTQzMCAtODIxIDYxNSAtNzYwUTgzMyAtNjg4IDkyNy41IC01OTIuMFExMDIyIC00OTYgOTk1IC0zMTdROTcwIC0xNTEgODM5LjUgLTY3LjBRNzA5IDE3IDUxMiAxN1EyOTUgMTcgMTQ4LjUgLTg0LjBRMiAtMTg1IDM4IC0zOThMNDEgLTQwNEgyMTVRMTkzIC0yNTQgMjkwLjAgLTE5MC41UTM4NyAtMTI3IDUzMyAtMTI3UTYzOSAtMTI3IDcxOS41IC0xODAuMFE4MDAgLTIzMyA4MTMgLTMxNVoiPjwvcGF0aD48cGF0aCBpZD0iX2dseXB5XzB4MWQ0NDciIGQ9Ik0xMTYwIC0xMjE5SDcwOEw1MjUgMEgzNDBMNTIzIC0xMjE5SDc3TDk5IC0xMzY1SDExODJaIj48L3BhdGg+PHBhdGggaWQ9Il9nbHlweV8weDFkNDQ4IiBkPSJNMTM1OSAtMTM2NSAxMjIzIC00NjBRMTE4OSAtMjI3IDEwMjYuNSAtMTA1LjBRODY0IDE3IDYzMSAxN1E0MTcgMTcgMjkxLjAgLTExMC41UTE2NSAtMjM4IDE5OSAtNDYwTDMzNCAtMTM2NUg1MThMMzgzIC00NjBRMzU4IC0yOTcgNDM0LjAgLTIxMi4wUTUxMCAtMTI3IDY1MyAtMTI3UTc5NiAtMTI3IDkwNi4wIC0yMTUuNVExMDE2IC0zMDQgMTAzOSAtNDYwTDExNzUgLTEzNjVaIj48L3BhdGg+PC9kZWZzPjxnPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDEsIDEpIj48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgwLCAxNC43NDgwNDY4NzUpIj48dXNlIHg9IjAiIHk9IjAiIHhsaW5rOmhyZWY9IiNfZ2x5cHlfMHgxZDQ0NSIgdHJhbnNmb3JtPSJzY2FsZSgwLjAwODc4OTA2MjUsIDAuMDA4Nzg5MDYyNSkiIHN0eWxlPSJmaWxsOiMwMDAwMDAiPjwvdXNlPjwvZz48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxNC43ODEwMDU4NTkzNzUsIDE0Ljc0ODA0Njg3NSkiPjx1c2UgeD0iMCIgeT0iMCIgeGxpbms6aHJlZj0iI19nbHlweV8weDIyNDgiIHRyYW5zZm9ybT0ic2NhbGUoMC4wMDg3ODkwNjI1LCAwLjAwODc4OTA2MjUpIiBzdHlsZT0iZmlsbDojMDAwMDAwIj48L3VzZT48L2c+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMzEuMzM3NDAyMzQzNzUsIDIuNzUwOTc2NTYyNSkiPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDAsIDExLjk5NzA3MDMxMjUpIj48dXNlIHg9IjAiIHk9IjAiIHhsaW5rOmhyZWY9IiNfZ2x5cHlfMHgxZDQ0OCIgdHJhbnNmb3JtPSJzY2FsZSgwLjAwODc4OTA2MjUsIDAuMDA4Nzg5MDYyNSkiIHN0eWxlPSJmaWxsOiMwMDAwMDAiPjwvdXNlPjwvZz48L2c+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoNDMuNzM4NzY5NTMxMjUsIDApIj48Zz48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgwLCA3Ljk5ODA0Njg3NSkiPjx1c2UgeD0iMCIgeT0iMCIgeGxpbms6aHJlZj0iI19nbHlweV8weDFkNDQ3IiB0cmFuc2Zvcm09InNjYWxlKDAuMDA1ODU5Mzc1LCAwLjAwNTg1OTM3NSkiIHN0eWxlPSJmaWxsOiMwMDAwMDAiPjwvdXNlPjwvZz48L2c+PC9nPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDUwLjg4MTM0NzY1NjI1LCAxNC43NDgwNDY4NzUpIj48dXNlIHg9IjAiIHk9IjAiIHhsaW5rOmhyZWY9IiNfZ2x5cHlfMHgxZDQ0NiIgdHJhbnNmb3JtPSJzY2FsZSgwLjAwODc4OTA2MjUsIDAuMDA4Nzg5MDYyNSkiIHN0eWxlPSJmaWxsOiMwMDAwMDAiPjwvdXNlPjwvZz48L2c+PC9nPjwvc3ZnPg==)

目标使得估计的矩阵 R 更逼近原始矩阵，归结为最小化问题：

![](https://www.kdocs.cn/api/v3/office/copy/RCtqeENIb0VIbXhnU2hUTGlyWi9FWEFDSENScTBVaWFVUlZCRnpCbFY2RStPSlVlUEs3MzlhN1l4aHJqdXp3ZGpiUXZSTkhnNlFNMXVzOGxCOGdOaXdVMjFUSlpieUNubXRiTmN5TXQ1QkYwbnRpbS9McS9Sc2FqaDlldVAzdkN2NDd4cndTNjdFNENXZjVZSTlNd3pBYUtHM3FPSkZmRVlFajVpYjVnVlUzNjd3UDZqTFIrb3lyVHhjWi9hZXNDUyt0ZVp3VDh4c0xTMlhNRXBCUWRzMVFpRW1nNnZSL0dzUGVKSkgrUW9uaVBGRlJSSXJoLy9xVWNxRU85NHEvTmR6aExVSGgyVzVzPQ==/attach/object/TC3ZIAYBEU)

现实情况下，原始矩阵 R 是一个稀疏矩阵，使用 $I_{ij}$ 标记用户 $u_i$，与服务$s_j$ 是否进行了交互，原始问题修改为以下问题：

![](https://www.kdocs.cn/api/v3/office/copy/RCtqeENIb0VIbXhnU2hUTGlyWi9FWEFDSENScTBVaWFVUlZCRnpCbFY2RStPSlVlUEs3MzlhN1l4aHJqdXp3ZGpiUXZSTkhnNlFNMXVzOGxCOGdOaXdVMjFUSlpieUNubXRiTmN5TXQ1QkYwbnRpbS9McS9Sc2FqaDlldVAzdkN2NDd4cndTNjdFNENXZjVZSTlNd3pBYUtHM3FPSkZmRVlFajVpYjVnVlUzNjd3UDZqTFIrb3lyVHhjWi9hZXNDUyt0ZVp3VDh4c0xTMlhNRXBCUWRzMVFpRW1nNnZSL0dzUGVKSkgrUW9uaVBGRlJSSXJoLy9xVWNxRU85NHEvTmR6aExVSGgyVzVzPQ==/attach/object/VW3ZIAYAXM)

为了避免过拟合，进行正则化：

![](https://www.kdocs.cn/api/v3/office/copy/RCtqeENIb0VIbXhnU2hUTGlyWi9FWEFDSENScTBVaWFVUlZCRnpCbFY2RStPSlVlUEs3MzlhN1l4aHJqdXp3ZGpiUXZSTkhnNlFNMXVzOGxCOGdOaXdVMjFUSlpieUNubXRiTmN5TXQ1QkYwbnRpbS9McS9Sc2FqaDlldVAzdkN2NDd4cndTNjdFNENXZjVZSTlNd3pBYUtHM3FPSkZmRVlFajVpYjVnVlUzNjd3UDZqTFIrb3lyVHhjWi9hZXNDUyt0ZVp3VDh4c0xTMlhNRXBCUWRzMVFpRW1nNnZSL0dzUGVKSkgrUW9uaVBGRlJSSXJoLy9xVWNxRU85NHEvTmR6aExVSGgyVzVzPQ==/attach/object/Y23ZIAYAME)

EMF 融合了 user 和 service 进行 QoS 预测，

![](https://www.kdocs.cn/api/v3/office/copy/RCtqeENIb0VIbXhnU2hUTGlyWi9FWEFDSENScTBVaWFVUlZCRnpCbFY2RStPSlVlUEs3MzlhN1l4aHJqdXp3ZGpiUXZSTkhnNlFNMXVzOGxCOGdOaXdVMjFUSlpieUNubXRiTmN5TXQ1QkYwbnRpbS9McS9Sc2FqaDlldVAzdkN2NDd4cndTNjdFNENXZjVZSTlNd3pBYUtHM3FPSkZmRVlFajVpYjVnVlUzNjd3UDZqTFIrb3lyVHhjWi9hZXNDUyt0ZVp3VDh4c0xTMlhNRXBCUWRzMVFpRW1nNnZSL0dzUGVKSkgrUW9uaVBGRlJSSXJoLy9xVWNxRU85NHEvTmR6aExVSGgyVzVzPQ==/attach/object/PC4JIAYBEU)

![](data:image/svg+xml;base64,PHN2ZyB3cHNUeXBlPSJsYXRleCIgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB3aWR0aD0iNDEiIGhlaWdodD0iMTkiIG92ZXJmbG93PSJoaWRkZW4iIHZpZXdCb3g9IjAgMCA0MSAxOSI+PGRlZnM+PHBhdGggaWQ9Il9nbHlweV8weDI4IiBkPSJNMjcwIC01MDRRMjcwIC04NTUgNDExLjUgLTExMDMuNVE1NTMgLTEzNTIgNzA5IC0xNDM1TDcxNSAtMTQzNEw3NDggLTEzMzFRNjI2IC0xMjM2IDUzNi4wIC0xMDI1LjVRNDQ2IC04MTUgNDQ2IC01MDZWLTQ5NFE0NDYgLTE4NSA1MzYuMCAyNS4wUTYyNiAyMzUgNzQ4IDMzOUw3MTUgNDM1SDcwOVE1NTMgMzUyIDQxMS41IDEwNC4wUTI3MCAtMTQ0IDI3MCAtNDk2WiI+PC9wYXRoPjxwYXRoIGlkPSJfZ2x5cHlfMHgyOSIgZD0iTTU4MCAtNTA0Vi00OTZRNTgwIC0xNDQgNDM4LjUgMTA0LjBRMjk3IDM1MiAxNDEgNDM1SDEzNkwxMDIgMzM5UTIyNSAyMzUgMzE1LjAgMjUuMFE0MDUgLTE4NSA0MDUgLTQ5NFYtNTA2UTQwNSAtODE1IDMxNC41IC0xMDI1LjVRMjI0IC0xMjM2IDEwMiAtMTMzMUwxMzYgLTE0MzRMMTQxIC0xNDM1UTI5NyAtMTM1MiA0MzguNSAtMTEwMy41UTU4MCAtODU1IDU4MCAtNTA0WiI+PC9wYXRoPjxwYXRoIGlkPSJfZ2x5cHlfMHgxZDQ1NiIgZD0iTTM0MyAxNkgxNzJMMzEzIC05MjZINDg0Wk01MjEgLTExNzNIMzUwTDM3NiAtMTM0OEg1NDdaIj48L3BhdGg+PHBhdGggaWQ9Il9nbHlweV8weDFkNzA3IiBkPSJNNDQ4IC05NTYgMzY0IC0zOTFRMzM2IC0yMTIgMzc2LjUgLTE1My41UTQxNyAtOTUgNTEyIC05NVE1OTkgLTk1IDY2MC4wIC0xMzAuMFE3MjEgLTE2NSA3NjAgLTIzMkw4NjcgLTk1NkgxMDQ1TDg5OSAyNUg3MzlMNzQ1IC02OVE2OTcgLTEzIDYzNS4wIDE1LjVRNTczIDQ0IDQ5OCA0NFE0MzUgNDQgMzg3LjUgMjkuMFEzNDAgMTQgMzA4IC0xOUwyNDUgNDAxSDY4TDI3MCAtOTU2WiI+PC9wYXRoPjxwYXRoIGlkPSJfZ2x5cHlfMHgxZDcwZiIgZD0iTTg3NCAtODE5SDU1NEw0MzAgMTZIMjU0TDM3OCAtODE5SDY0TDg1IC05NTZIODk0WiI+PC9wYXRoPjwvZGVmcz48Zz48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxLCAxKSI+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMCwgMTIuNzAwMTk1MzEyNSkiPjx1c2UgeD0iMCIgeT0iMCIgeGxpbms6aHJlZj0iI19nbHlweV8weDFkNzBmIiB0cmFuc2Zvcm09InNjYWxlKDAuMDA4Nzg5MDYyNSwgMC4wMDg3ODkwNjI1KSIgc3R5bGU9ImZpbGw6IzAwMDAwMCI+PC91c2U+PC9nPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDguMjUyOTI5Njg3NSwgMTIuNzAwMTk1MzEyNSkiPjx1c2UgeD0iMCIgeT0iMCIgeGxpbms6aHJlZj0iI19nbHlweV8weDFkNzA3IiB0cmFuc2Zvcm09InNjYWxlKDAuMDA4Nzg5MDYyNSwgMC4wMDg3ODkwNjI1KSIgc3R5bGU9ImZpbGw6IzAwMDAwMCI+PC91c2U+PC9nPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDE4LjEyMzA0Njg3NSwgMTIuNzAwMTk1MzEyNSkiPjx1c2UgeD0iMCIgeT0iMCIgeGxpbms6aHJlZj0iI19nbHlweV8weDI4IiB0cmFuc2Zvcm09InNjYWxlKDAuMDA4Nzg5MDYyNSwgMC4wMDg3ODkwNjI1KSIgc3R5bGU9ImZpbGw6IzAwMDAwMCI+PC91c2U+PC9nPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDI1LjU5Mzc1LCAxMi43MDAxOTUzMTI1KSI+PHVzZSB4PSIwIiB5PSIwIiB4bGluazpocmVmPSIjX2dseXB5XzB4MWQ0NTYiIHRyYW5zZm9ybT0ic2NhbGUoMC4wMDg3ODkwNjI1LCAwLjAwODc4OTA2MjUpIiBzdHlsZT0iZmlsbDojMDAwMDAwIj48L3VzZT48L2c+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMzEuMjk3ODUxNTYyNSwgMTIuNzAwMTk1MzEyNSkiPjx1c2UgeD0iMCIgeT0iMCIgeGxpbms6aHJlZj0iI19nbHlweV8weDI5IiB0cmFuc2Zvcm09InNjYWxlKDAuMDA4Nzg5MDYyNSwgMC4wMDg3ODkwNjI1KSIgc3R5bGU9ImZpbGw6IzAwMDAwMCI+PC91c2U+PC9nPjwvZz48L2c+PC9zdmc+) 表示用户 i 的基于 Top-k 的相邻用户，矩阵 PU 表示用户之间的经过归一化后的相似度，

![](data:image/svg+xml;base64,PHN2ZyB3cHNUeXBlPSJsYXRleCIgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB3aWR0aD0iNDAiIGhlaWdodD0iMTkiIG92ZXJmbG93PSJoaWRkZW4iIHZpZXdCb3g9IjAgMCA0MCAxOSI+PGRlZnM+PHBhdGggaWQ9Il9nbHlweV8weDI4IiBkPSJNMjcwIC01MDRRMjcwIC04NTUgNDExLjUgLTExMDMuNVE1NTMgLTEzNTIgNzA5IC0xNDM1TDcxNSAtMTQzNEw3NDggLTEzMzFRNjI2IC0xMjM2IDUzNi4wIC0xMDI1LjVRNDQ2IC04MTUgNDQ2IC01MDZWLTQ5NFE0NDYgLTE4NSA1MzYuMCAyNS4wUTYyNiAyMzUgNzQ4IDMzOUw3MTUgNDM1SDcwOVE1NTMgMzUyIDQxMS41IDEwNC4wUTI3MCAtMTQ0IDI3MCAtNDk2WiI+PC9wYXRoPjxwYXRoIGlkPSJfZ2x5cHlfMHgyOSIgZD0iTTU4MCAtNTA0Vi00OTZRNTgwIC0xNDQgNDM4LjUgMTA0LjBRMjk3IDM1MiAxNDEgNDM1SDEzNkwxMDIgMzM5UTIyNSAyMzUgMzE1LjAgMjUuMFE0MDUgLTE4NSA0MDUgLTQ5NFYtNTA2UTQwNSAtODE1IDMxNC41IC0xMDI1LjVRMjI0IC0xMjM2IDEwMiAtMTMzMUwxMzYgLTE0MzRMMTQxIC0xNDM1UTI5NyAtMTM1MiA0MzguNSAtMTEwMy41UTU4MCAtODU1IDU4MCAtNTA0WiI+PC9wYXRoPjxwYXRoIGlkPSJfZ2x5cHlfMHgxZDQ1NyIgZD0iTTUyMCAtOTE5IDM2MyAxMzRRMzM5IDI5MCAyNTEuMCAzNjguNVExNjMgNDQ3IDIzIDQ0N1EtMyA0NDcgLTI2LjUgNDQzLjBRLTUwIDQzOSAtNzQgNDMxTC00MSAyOTFRLTI5IDI5NiAtNS4wIDI5OS4wUTE5IDMwMiAzMyAzMDJROTEgMzAyIDEzMS41IDI2Mi4wUTE3MiAyMjIgMTg2IDEzNEwzNDMgLTkxOVpNNTUzIC0xMTcxSDM3Nkw0MDMgLTEzNDhINTgwWiI+PC9wYXRoPjxwYXRoIGlkPSJfZ2x5cHlfMHgxZDQ2MCIgZD0iTTY0OCAtMjU4UTY1NiAtMzE3IDYxOC4wIC0zNTIuNVE1ODAgLTM4OCA0NjEgLTQxNVEyOTcgLTQ1MiAyMTUuNSAtNTE2LjBRMTM0IC01ODAgMTUwIC02OTBRMTY2IC04MTEgMjc2LjAgLTg5MS41UTM4NiAtOTcyIDU0NiAtOTcyUTcwMSAtOTcyIDc5My4wIC04ODMuMFE4ODUgLTc5NCA4NjQgLTY3OEw4NjMgLTY3M0g2OTZRNzA1IC03MzYgNjU4LjAgLTc4NS41UTYxMSAtODM1IDUyNyAtODM1UTQzOSAtODM1IDM4NS41IC03OTMuMFEzMzIgLTc1MSAzMjQgLTY5NVEzMTYgLTYzNyAzNTAuNSAtNjA3LjBRMzg1IC01NzcgNTA2IC01NTFRNjc2IC01MTQgNzU3LjUgLTQ0Ny4wUTgzOSAtMzgwIDgyNCAtMjcxUTgwNSAtMTM5IDY5Mi4wIC02MS4wUTU3OSAxNyA0MTIgMTdRMjM3IDE3IDE0MS4wIC03Ni41UTQ1IC0xNzAgNjcgLTI5Mkw2OSAtMjk3SDIzNlEyMjggLTIwNCAyODYuNSAtMTYxLjVRMzQ1IC0xMTkgNDMxIC0xMTlRNTIwIC0xMTkgNTc5LjAgLTE1OC41UTYzOCAtMTk4IDY0OCAtMjU4WiI+PC9wYXRoPjxwYXRoIGlkPSJfZ2x5cHlfMHgxZDcwZiIgZD0iTTg3NCAtODE5SDU1NEw0MzAgMTZIMjU0TDM3OCAtODE5SDY0TDg1IC05NTZIODk0WiI+PC9wYXRoPjwvZGVmcz48Zz48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxLCAxKSI+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMCwgMTIuNzAwMTk1MzEyNSkiPjx1c2UgeD0iMCIgeT0iMCIgeGxpbms6aHJlZj0iI19nbHlweV8weDFkNzBmIiB0cmFuc2Zvcm09InNjYWxlKDAuMDA4Nzg5MDYyNSwgMC4wMDg3ODkwNjI1KSIgc3R5bGU9ImZpbGw6IzAwMDAwMCI+PC91c2U+PC9nPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDguMjUyOTI5Njg3NSwgMTIuNzAwMTk1MzEyNSkiPjx1c2UgeD0iMCIgeT0iMCIgeGxpbms6aHJlZj0iI19nbHlweV8weDFkNDYwIiB0cmFuc2Zvcm09InNjYWxlKDAuMDA4Nzg5MDYyNSwgMC4wMDg3ODkwNjI1KSIgc3R5bGU9ImZpbGw6IzAwMDAwMCI+PC91c2U+PC9nPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDE2LjU2NzM4MjgxMjUsIDEyLjcwMDE5NTMxMjUpIj48dXNlIHg9IjAiIHk9IjAiIHhsaW5rOmhyZWY9IiNfZ2x5cHlfMHgyOCIgdHJhbnNmb3JtPSJzY2FsZSgwLjAwODc4OTA2MjUsIDAuMDA4Nzg5MDYyNSkiIHN0eWxlPSJmaWxsOiMwMDAwMDAiPjwvdXNlPjwvZz48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgyNC4wMzgwODU5Mzc1LCAxMi43MDAxOTUzMTI1KSI+PHVzZSB4PSIwIiB5PSIwIiB4bGluazpocmVmPSIjX2dseXB5XzB4MWQ0NTciIHRyYW5zZm9ybT0ic2NhbGUoMC4wMDg3ODkwNjI1LCAwLjAwODc4OTA2MjUpIiBzdHlsZT0iZmlsbDojMDAwMDAwIj48L3VzZT48L2c+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMzAuNTA2ODM1OTM3NSwgMTIuNzAwMTk1MzEyNSkiPjx1c2UgeD0iMCIgeT0iMCIgeGxpbms6aHJlZj0iI19nbHlweV8weDI5IiB0cmFuc2Zvcm09InNjYWxlKDAuMDA4Nzg5MDYyNSwgMC4wMDg3ODkwNjI1KSIgc3R5bGU9ImZpbGw6IzAwMDAwMCI+PC91c2U+PC9nPjwvZz48L2c+PC9zdmc+) 表示服务 j 的基于 Top-k 的相邻服务，矩阵 PS表示服务之间的经过归一化后的相似度

之后使用梯度下降的方法，寻找局部最优解。

### UIPCC

🔔

the user-based PCC approach and the item-based PCC approach

文章：[QoS-Aware Web Service Recommendation by Collaborative Filtering](https://ieeexplore.ieee.org/document/5674010?arnumber=5674010)

**运行结果**

![](https://www.kdocs.cn/api/v3/office/copy/RCtqeENIb0VIbXhnU2hUTGlyWi9FWEFDSENScTBVaWFVUlZCRnpCbFY2RStPSlVlUEs3MzlhN1l4aHJqdXp3ZGpiUXZSTkhnNlFNMXVzOGxCOGdOaXdVMjFUSlpieUNubXRiTmN5TXQ1QkYwbnRpbS9McS9Sc2FqaDlldVAzdkN2NDd4cndTNjdFNENXZjVZSTlNd3pBYUtHM3FPSkZmRVlFajVpYjVnVlUzNjd3UDZqTFIrb3lyVHhjWi9hZXNDUyt0ZVp3VDh4c0xTMlhNRXBCUWRzMVFpRW1nNnZSL0dzUGVKSkgrUW9uaVBGRlJSSXJoLy9xVWNxRU85NHEvTmR6aExVSGgyVzVzPQ==/attach/object/IXHZIAYAZI)

**方法原理**

UIPCC 使用**协作过滤**的方法，利用Web服务用户过去的使用经验来预测Web服务的QoS值并提出Web服务推荐。 作者首先为过去从不同服务用户收集Web服务QoS信息提出了一种用户协作机制。 然后，基于收集的QoS数据，设计了一种协作过滤方法来预测Web服务QoS值。 最后，使用以WSRec的原型由Java语言实现，并部署到Internet上以进行实际实验。

![](https://www.kdocs.cn/api/v3/office/copy/RCtqeENIb0VIbXhnU2hUTGlyWi9FWEFDSENScTBVaWFVUlZCRnpCbFY2RStPSlVlUEs3MzlhN1l4aHJqdXp3ZGpiUXZSTkhnNlFNMXVzOGxCOGdOaXdVMjFUSlpieUNubXRiTmN5TXQ1QkYwbnRpbS9McS9Sc2FqaDlldVAzdkN2NDd4cndTNjdFNENXZjVZSTlNd3pBYUtHM3FPSkZmRVlFajVpYjVnVlUzNjd3UDZqTFIrb3lyVHhjWi9hZXNDUyt0ZVp3VDh4c0xTMlhNRXBCUWRzMVFpRW1nNnZSL0dzUGVKSkgrUW9uaVBGRlJSSXJoLy9xVWNxRU85NHEvTmR6aExVSGgyVzVzPQ==/attach/object/CO6ZIAYAPU)

**流程：**

1.服务用户将过去的Web服务QoS数据贡献给中央服务器WSRec 。

2. WSRec从培训用户中选择类似用户作为活动用户。训练用户代表其QoS值存储在WSRec服务器中并用于为活动用户进行值预测的服务用户。

3. WSRec预测活动用户的Web服务的QoS值。

4. WSRec根据不同Web服务的预测QoS值提出Web服务推荐。

5.服务用户接收预测的QoS值以及推荐结果，其可以被用于辅助决策（例如，服务选择，复合服务性能预测等。

1. 使用 Person 相关系数来计算两个服务用户 a、u 之间的相似度：

![](https://www.kdocs.cn/api/v3/office/copy/RCtqeENIb0VIbXhnU2hUTGlyWi9FWEFDSENScTBVaWFVUlZCRnpCbFY2RStPSlVlUEs3MzlhN1l4aHJqdXp3ZGpiUXZSTkhnNlFNMXVzOGxCOGdOaXdVMjFUSlpieUNubXRiTmN5TXQ1QkYwbnRpbS9McS9Sc2FqaDlldVAzdkN2NDd4cndTNjdFNENXZjVZSTlNd3pBYUtHM3FPSkZmRVlFajVpYjVnVlUzNjd3UDZqTFIrb3lyVHhjWi9hZXNDUyt0ZVp3VDh4c0xTMlhNRXBCUWRzMVFpRW1nNnZSL0dzUGVKSkgrUW9uaVBGRlJSSXJoLy9xVWNxRU85NHEvTmR6aExVSGgyVzVzPQ==/attach/object/HW6ZIAYA44)

计算两个 Web 服务之间的相似度：

![](https://www.kdocs.cn/api/v3/office/copy/RCtqeENIb0VIbXhnU2hUTGlyWi9FWEFDSENScTBVaWFVUlZCRnpCbFY2RStPSlVlUEs3MzlhN1l4aHJqdXp3ZGpiUXZSTkhnNlFNMXVzOGxCOGdOaXdVMjFUSlpieUNubXRiTmN5TXQ1QkYwbnRpbS9McS9Sc2FqaDlldVAzdkN2NDd4cndTNjdFNENXZjVZSTlNd3pBYUtHM3FPSkZmRVlFajVpYjVnVlUzNjd3UDZqTFIrb3lyVHhjWi9hZXNDUyt0ZVp3VDh4c0xTMlhNRXBCUWRzMVFpRW1nNnZSL0dzUGVKSkgrUW9uaVBGRlJSSXJoLy9xVWNxRU85NHEvTmR6aExVSGgyVzVzPQ==/attach/object/M26ZIAYAV4)

作者认为 PCC 会高估一些实际上并不相似，但恰巧有相似 QoS 的 Web 服务的相似度，因此，作者提出了改进的 PCC 计算定义：

![](https://www.kdocs.cn/api/v3/office/copy/RCtqeENIb0VIbXhnU2hUTGlyWi9FWEFDSENScTBVaWFVUlZCRnpCbFY2RStPSlVlUEs3MzlhN1l4aHJqdXp3ZGpiUXZSTkhnNlFNMXVzOGxCOGdOaXdVMjFUSlpieUNubXRiTmN5TXQ1QkYwbnRpbS9McS9Sc2FqaDlldVAzdkN2NDd4cndTNjdFNENXZjVZSTlNd3pBYUtHM3FPSkZmRVlFajVpYjVnVlUzNjd3UDZqTFIrb3lyVHhjWi9hZXNDUyt0ZVp3VDh4c0xTMlhNRXBCUWRzMVFpRW1nNnZSL0dzUGVKSkgrUW9uaVBGRlJSSXJoLy9xVWNxRU85NHEvTmR6aExVSGgyVzVzPQ==/attach/object/QS6ZIAYA6U)

1. user-item 矩阵通常非常稀疏，这将极大的影响预测进度，文章提出了一种使得矩阵更密集的缺失值预测方法
- 传统的 Top-K 算法根据 PCC 相似度对邻居进行排名，选择前 k 个相似的邻居进行缺失值预测，但实际上，用户项矩阵中，某些项可能邻居很少，甚至没有邻居，这将大大降低预测精度
- 文章提出了增强的 Top K 算法，排除 PCC 相似度小于或等于 0 的邻居

![](https://www.kdocs.cn/api/v3/office/copy/RCtqeENIb0VIbXhnU2hUTGlyWi9FWEFDSENScTBVaWFVUlZCRnpCbFY2RStPSlVlUEs3MzlhN1l4aHJqdXp3ZGpiUXZSTkhnNlFNMXVzOGxCOGdOaXdVMjFUSlpieUNubXRiTmN5TXQ1QkYwbnRpbS9McS9Sc2FqaDlldVAzdkN2NDd4cndTNjdFNENXZjVZSTlNd3pBYUtHM3FPSkZmRVlFajVpYjVnVlUzNjd3UDZqTFIrb3lyVHhjWi9hZXNDUyt0ZVp3VDh4c0xTMlhNRXBCUWRzMVFpRW1nNnZSL0dzUGVKSkgrUW9uaVBGRlJSSXJoLy9xVWNxRU85NHEvTmR6aExVSGgyVzVzPQ==/attach/object/AS7JIAYAPQ)

- QoS 值的预测公式：

- 基于用户的方法：

![](https://www.kdocs.cn/api/v3/office/copy/RCtqeENIb0VIbXhnU2hUTGlyWi9FWEFDSENScTBVaWFVUlZCRnpCbFY2RStPSlVlUEs3MzlhN1l4aHJqdXp3ZGpiUXZSTkhnNlFNMXVzOGxCOGdOaXdVMjFUSlpieUNubXRiTmN5TXQ1QkYwbnRpbS9McS9Sc2FqaDlldVAzdkN2NDd4cndTNjdFNENXZjVZSTlNd3pBYUtHM3FPSkZmRVlFajVpYjVnVlUzNjd3UDZqTFIrb3lyVHhjWi9hZXNDUyt0ZVp3VDh4c0xTMlhNRXBCUWRzMVFpRW1nNnZSL0dzUGVKSkgrUW9uaVBGRlJSSXJoLy9xVWNxRU85NHEvTmR6aExVSGgyVzVzPQ==/attach/object/GW7JIAYAFU)

- 基于项目的方法：

![](https://www.kdocs.cn/api/v3/office/copy/RCtqeENIb0VIbXhnU2hUTGlyWi9FWEFDSENScTBVaWFVUlZCRnpCbFY2RStPSlVlUEs3MzlhN1l4aHJqdXp3ZGpiUXZSTkhnNlFNMXVzOGxCOGdOaXdVMjFUSlpieUNubXRiTmN5TXQ1QkYwbnRpbS9McS9Sc2FqaDlldVAzdkN2NDd4cndTNjdFNENXZjVZSTlNd3pBYUtHM3FPSkZmRVlFajVpYjVnVlUzNjd3UDZqTFIrb3lyVHhjWi9hZXNDUyt0ZVp3VDh4c0xTMlhNRXBCUWRzMVFpRW1nNnZSL0dzUGVKSkgrUW9uaVBGRlJSSXJoLy9xVWNxRU85NHEvTmR6aExVSGgyVzVzPQ==/attach/object/KS7JIAYADM)

- 两方法结合：

![](https://www.kdocs.cn/api/v3/office/copy/RCtqeENIb0VIbXhnU2hUTGlyWi9FWEFDSENScTBVaWFVUlZCRnpCbFY2RStPSlVlUEs3MzlhN1l4aHJqdXp3ZGpiUXZSTkhnNlFNMXVzOGxCOGdOaXdVMjFUSlpieUNubXRiTmN5TXQ1QkYwbnRpbS9McS9Sc2FqaDlldVAzdkN2NDd4cndTNjdFNENXZjVZSTlNd3pBYUtHM3FPSkZmRVlFajVpYjVnVlUzNjd3UDZqTFIrb3lyVHhjWi9hZXNDUyt0ZVp3VDh4c0xTMlhNRXBCUWRzMVFpRW1nNnZSL0dzUGVKSkgrUW9uaVBGRlJSSXJoLy9xVWNxRU85NHEvTmR6aExVSGgyVzVzPQ==/attach/object/QO7JIAYAUE)

![](https://www.kdocs.cn/api/v3/office/copy/RCtqeENIb0VIbXhnU2hUTGlyWi9FWEFDSENScTBVaWFVUlZCRnpCbFY2RStPSlVlUEs3MzlhN1l4aHJqdXp3ZGpiUXZSTkhnNlFNMXVzOGxCOGdOaXdVMjFUSlpieUNubXRiTmN5TXQ1QkYwbnRpbS9McS9Sc2FqaDlldVAzdkN2NDd4cndTNjdFNENXZjVZSTlNd3pBYUtHM3FPSkZmRVlFajVpYjVnVlUzNjd3UDZqTFIrb3lyVHhjWi9hZXNDUyt0ZVp3VDh4c0xTMlhNRXBCUWRzMVFpRW1nNnZSL0dzUGVKSkgrUW9uaVBGRlJSSXJoLy9xVWNxRU85NHEvTmR6aExVSGgyVzVzPQ==/attach/object/S27JIAYAPI)

![](https://www.kdocs.cn/api/v3/office/copy/RCtqeENIb0VIbXhnU2hUTGlyWi9FWEFDSENScTBVaWFVUlZCRnpCbFY2RStPSlVlUEs3MzlhN1l4aHJqdXp3ZGpiUXZSTkhnNlFNMXVzOGxCOGdOaXdVMjFUSlpieUNubXRiTmN5TXQ1QkYwbnRpbS9McS9Sc2FqaDlldVAzdkN2NDd4cndTNjdFNENXZjVZSTlNd3pBYUtHM3FPSkZmRVlFajVpYjVnVlUzNjd3UDZqTFIrb3lyVHhjWi9hZXNDUyt0ZVp3VDh4c0xTMlhNRXBCUWRzMVFpRW1nNnZSL0dzUGVKSkgrUW9uaVBGRlJSSXJoLy9xVWNxRU85NHEvTmR6aExVSGgyVzVzPQ==/attach/object/UW7JIAYAYM)

![](data:image/svg+xml;base64,PHN2ZyB3cHNUeXBlPSJsYXRleCIgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB3aWR0aD0iODciIGhlaWdodD0iMTkiIG92ZXJmbG93PSJoaWRkZW4iIHZpZXdCb3g9IjAgMCA4NyAxOSI+PGRlZnM+PHBhdGggaWQ9Il9nbHlweV8weDFkNDUwIiBkPSJNNDc0IC0xMTlRNTUxIC0xMTkgNjIwLjAgLTE3My4wUTY4OSAtMjI3IDcwMiAtMzAzSDg1OUw4NjAgLTI5OFE4NDUgLTE2OSA3MjIuNSAtNzYuMFE2MDAgMTcgNDU0IDE3UTI2MSAxNyAxNjguMCAtMTIxLjBRNzUgLTI1OSAxMDUgLTQ2MEwxMTAgLTQ5N1ExNDIgLTcwNSAyNzEuMCAtODM4LjVRNDAwIC05NzIgNjAyIC05NzJRNzU2IC05NzIgODQ2LjAgLTg3Mi41UTkzNiAtNzczIDkxMSAtNjMwTDkwOSAtNjI1SDc1MFE3NjMgLTcxNiA3MTYuNSAtNzc1LjVRNjcwIC04MzUgNTgyIC04MzVRNDU5IC04MzUgMzgyLjAgLTczNC4wUTMwNSAtNjMzIDI4NSAtNDk3TDI4MCAtNDYwUTI1NyAtMzEyIDMwMC4wIC0yMTUuNVEzNDMgLTExOSA0NzQgLTExOVoiPjwvcGF0aD48cGF0aCBpZD0iX2dseXB5XzB4MWQ0NTYiIGQ9Ik0zNDMgMTZIMTcyTDMxMyAtOTI2SDQ4NFpNNTIxIC0xMTczSDM1MEwzNzYgLTEzNDhINTQ3WiI+PC9wYXRoPjxwYXRoIGlkPSJfZ2x5cHlfMHgxZDQ1YiIgZD0iTTQyNyAtODE1UTQ4NyAtODkxIDU2Ni41IC05MzIuMFE2NDYgLTk3MyA3NDAgLTk3M1E4OTIgLTk3MyA5NjcuNSAtODc5LjVRMTA0MyAtNzg2IDEwMTQgLTU5NUw5MjIgMTZINzQ1TDgzNyAtNTkyUTg1NiAtNzI1IDgxNC4wIC03NzcuMFE3NzIgLTgyOSA2NjUgLTgyOVE1ODYgLTgyOSA1MjMuMCAtNzk0LjBRNDYwIC03NTkgNDE3IC02OThMMzA5IDE2SDEzMUwyNzcgLTk1NUg0MzZaIj48L3BhdGg+PHBhdGggaWQ9Il9nbHlweV8weDFkNDVjIiBkPSJNMTIwIC00ODhRMTUzIC03MDUgMjg3LjAgLTgzOC41UTQyMSAtOTcyIDYxOSAtOTcyUTgxMCAtOTcyIDkwOC4wIC04MzQuMFExMDA2IC02OTYgOTc2IC00ODhMOTcyIC00NjhROTM5IC0yNDcgODA1LjUgLTExNS4wUTY3MiAxNyA0NzMgMTdRMjgyIDE3IDE4My41IC0xMjAuNVE4NSAtMjU4IDExNyAtNDY4Wk0yOTEgLTQ2OFEyNjcgLTMxMSAzMTYuNSAtMjE1LjBRMzY2IC0xMTkgNDkzIC0xMTlRNjEyIC0xMTkgNjkzLjUgLTIxOS4wUTc3NSAtMzE5IDc5OCAtNDY4TDgwMiAtNDg4UTgyNSAtNjQxIDc3NS4wIC03MzguMFE3MjUgLTgzNSA1OTkgLTgzNVE0NzkgLTgzNSAzOTcuNSAtNzM0LjBRMzE2IC02MzMgMjk0IC00ODhaIj48L3BhdGg+PHBhdGggaWQ9Il9nbHlweV8weDFkNDYyIiBkPSJNNzM3IC0zIDc0NyAtMTQyUTY4OSAtNjUgNjExLjUgLTI0LjVRNTM0IDE2IDQzOSAxNlEyODUgMTYgMjA5LjAgLTg3LjBRMTMzIC0xOTAgMTY1IC00MDFMMjUwIC05NzNINDI3TDM0MSAtNDAwUTMxNyAtMjM5IDM1My41IC0xODMuNVEzOTAgLTEyOCA0ODkgLTEyOFE1ODEgLTEyOCA2NDkuNSAtMTY3LjVRNzE4IC0yMDcgNzYxIC0yODBMODY0IC05NzNIMTA0MUw4OTYgLTNaIj48L3BhdGg+PC9kZWZzPjxnPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDEsIDEpIj48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgwLCAxNCkiPjx1c2UgeD0iMCIgeT0iMCIgeGxpbms6aHJlZj0iI19nbHlweV8weDFkNDUwIiB0cmFuc2Zvcm09InNjYWxlKDAuMDA4Nzg5MDYyNSwgMC4wMDg3ODkwNjI1KSIgc3R5bGU9ImZpbGw6IzAwMDAwMCI+PC91c2U+PC9nPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDguMjc5Mjk2ODc1LCAxNCkiPjx1c2UgeD0iMCIgeT0iMCIgeGxpbms6aHJlZj0iI19nbHlweV8weDFkNDVjIiB0cmFuc2Zvcm09InNjYWxlKDAuMDA4Nzg5MDYyNSwgMC4wMDg3ODkwNjI1KSIgc3R5bGU9ImZpbGw6IzAwMDAwMCI+PC91c2U+PC9nPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDE3Ljg2ODE2NDA2MjUsIDUuNDU3MDMxMjUpIj48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgwLCA4LjU0Mjk2ODc1KSI+PHVzZSB4PSIwIiB5PSIwIiB4bGluazpocmVmPSIjX2dseXB5XzB4MWQ0NWIiIHRyYW5zZm9ybT0ic2NhbGUoMC4wMDg3ODkwNjI1LCAwLjAwODc4OTA2MjUpIiBzdHlsZT0iZmlsbDojMDAwMDAwIj48L3VzZT48L2c+PC9nPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDI4LjE5NTMxMjUsIDUuNDU3MDMxMjUpIj48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgwLCA1LjYwNzQyMTg3NSkiPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDAsIDUuNjAxNTYyNSkiPjx1c2UgeD0iMCIgeT0iMCIgeGxpbms6aHJlZj0iI19nbHlweV8weDFkNDYyIiB0cmFuc2Zvcm09InNjYWxlKDAuMDA1ODU5Mzc1LCAwLjAwNTg1OTM3NSkiIHN0eWxlPSJmaWxsOiMwMDAwMDAiPjwvdXNlPjwvZz48L2c+PC9nPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIHN0cm9rZT0ibm9uZSIgZm9udC1mYW1pbHk9IkNhbWJyaWEgTWF0aCIgZm9udC1zaXplPSIxOHB4IiBmb250LXN0eWxlPSJub3JtYWwiIGZvbnQtd2VpZ2h0PSJub3JtYWwiIHg9IjM1LjA4MDA3ODEyNSIgeT0iMTQiIHRleHQtYW5jaG9yPSJzdGFydCIgZG9taW5hbnQtYmFzZWxpbmU9ImFscGhhYmV0aWMiPuWSjDwvdGV4dD48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSg1My4wODAwNzgxMjUsIDE0KSI+PHVzZSB4PSIwIiB5PSIwIiB4bGluazpocmVmPSIjX2dseXB5XzB4MWQ0NTAiIHRyYW5zZm9ybT0ic2NhbGUoMC4wMDg3ODkwNjI1LCAwLjAwODc4OTA2MjUpIiBzdHlsZT0iZmlsbDojMDAwMDAwIj48L3VzZT48L2c+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoNjEuMzU5Mzc1LCAxNCkiPjx1c2UgeD0iMCIgeT0iMCIgeGxpbms6aHJlZj0iI19nbHlweV8weDFkNDVjIiB0cmFuc2Zvcm09InNjYWxlKDAuMDA4Nzg5MDYyNSwgMC4wMDg3ODkwNjI1KSIgc3R5bGU9ImZpbGw6IzAwMDAwMCI+PC91c2U+PC9nPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDcwLjk0ODI0MjE4NzUsIDUuNDU3MDMxMjUpIj48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgwLCA4LjU0Mjk2ODc1KSI+PHVzZSB4PSIwIiB5PSIwIiB4bGluazpocmVmPSIjX2dseXB5XzB4MWQ0NWIiIHRyYW5zZm9ybT0ic2NhbGUoMC4wMDg3ODkwNjI1LCAwLjAwODc4OTA2MjUpIiBzdHlsZT0iZmlsbDojMDAwMDAwIj48L3VzZT48L2c+PC9nPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDgxLjI3NTM5MDYyNSwgNS40NTcwMzEyNSkiPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDAsIDMuMzEwNTQ2ODc1KSI+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMCwgNy44OTg0Mzc1KSI+PHVzZSB4PSIwIiB5PSIwIiB4bGluazpocmVmPSIjX2dseXB5XzB4MWQ0NTYiIHRyYW5zZm9ybT0ic2NhbGUoMC4wMDU4NTkzNzUsIDAuMDA1ODU5Mzc1KSIgc3R5bGU9ImZpbGw6IzAwMDAwMCI+PC91c2U+PC9nPjwvZz48L2c+PC9nPjwvZz48L3N2Zz4=) 可以自动平衡基于用户的预测和基于项目的预测，提高了方法适用于不同数据集的可行性。
